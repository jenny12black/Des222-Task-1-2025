"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="d9f36750-3043-5554-8e03-e49f343c97c9")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[6268],{430335:(e,n,o)=>{o.d(n,{$M:()=>j,AT:()=>N,Gd:()=>l,Gh:()=>q,I$:()=>T,IO:()=>v,K4:()=>C,KF:()=>R,Kk:()=>I,L3:()=>i,LU:()=>b,MO:()=>O,OC:()=>W,RA:()=>w,SR:()=>p,T$:()=>u,TQ:()=>P,V3:()=>F,WD:()=>k,WX:()=>r,YQ:()=>d,YS:()=>D,b0:()=>A,dg:()=>M,dl:()=>m,fI:()=>g,f_:()=>f,fo:()=>y,hP:()=>a,i7:()=>L,jU:()=>x,oE:()=>c,of:()=>K,r9:()=>E,sp:()=>h,t5:()=>B,v6:()=>S,xw:()=>_,yO:()=>s,yS:()=>t});let t="component_browser_component_list--componentListLoadingRow--6VtcP",s="component_browser_component_list--componentListLoadingItems--XJ359",c="component_browser_component_list--compact--3tCnY",i="component_browser_component_list--componentsList--jcFMY",r="component_browser_component_list--componentsListLoadingContainer--WPYPK",a="component_browser_component_list--componentsListTable--puqS-",l="component_browser_component_list--componentsListTableHeader--Aynmf",d="component_browser_component_list--spacious--yB0HS",_="component_browser_component_list--sidesheet--qErQp",m="component_browser_component_list--componentsListTableBody--PiBLQ",p="component_browser_component_list--componentsListTableHeaderRow---iaPM",h="component_browser_component_list--isSelected--oGCS1",u="component_browser_component_list--componentsListTableRow--MWiH-",b="component_browser_component_list--componentsListTableCell--qX8vW",f="component_browser_component_list--designCell--2WgKC",v="component_browser_component_list--decoratorCell--f6ZpC",g="component_browser_component_list--decoratorIcon--DSFkj",x="component_browser_component_list--fileCell--oVoAy",w="component_browser_component_list--suggestionsDebug--wvkUS",j="component_browser_component_list--variantsCell--yGi-I",y="component_browser_component_list--statusCell--x8DtR",N="component_browser_component_list--actionsCell--xbCNx",C="component_browser_component_list--tableRowExpandChevron--bw780",k="component_browser_component_list--countItemNumber--0qq5f",S="component_browser_component_list--componentItemImageContainer--XlLnu",I="component_browser_component_list--icon--qFSlI",T="component_browser_component_list--componentItemImage--l1RBu",L="component_browser_component_list--codeConnectionStatus--p3-4K",R="component_browser_component_list--searchInputContainer--1OO4i",E="component_browser_component_list--disabled--DfITX",M="component_browser_component_list--componentsListEmptyContainer--MxQaf",D="component_browser_component_list--onlyShowActionsOnHover--X76em",O="component_browser_component_list--menuOpen--1-ztt",P="component_browser_component_list--componentName--yOdtn",A="component_browser_component_list--libraryName--rDSdu",F="component_browser_component_list--nameBlock--Qm8-K",K="component_browser_component_list--checkboxCell---6UCl",q="component_browser_component_list--componentsListNothingToConnectContainer--Tar17",B="component_browser_component_list--componentsListNothingToConnectTitle--HpweU",W="component_browser_component_list--componentsListNothingToConnectSubtext--Co7Yt"},891724:(e,n,o)=>{o.d(n,{z:()=>p});var t=o(486106),s=o(493196),c=o(270045),i=o(614223),r=o(601108),a=o(303541),l=o(358099),d=o(807901);function _({label:e,value:n,count:o}){return(0,t.jsx)(s.c$,{value:n,children:(0,t.jsxs)("div",{className:"component_browser_filters--option--0cVym",children:[e,(0,t.jsx)(i.J,{mode:"dark",children:(0,t.jsx)("span",{className:"component_browser_filters--count--opEnb",children:o})})]})},n)}function m({count:e}){return(0,t.jsx)("div",{className:"component_browser_filters--countItemNumber--Kd8X7",children:e})}function p({dropdownFilter:e,setDropdownFilter:n,componentCounts:o}){let i=(0,d.sD)();return(0,t.jsxs)(s.bL,{value:e,onChange:e=>n(e),children:[(0,t.jsx)(s.l9,{label:(0,t.jsx)(c.h,{children:(0,a.t)("dev_handoff.component_browser.filter")}),children:(0,t.jsxs)("div",{className:"component_browser_filters--trigger--tf4CK",children:[i[e],(0,t.jsx)(m,{count:o[e]})]})}),(0,t.jsx)(s.mc,{children:Object.entries(l.W).filter(([e])=>(0,r.k)().dt_component_browser_bulk_mapping||"suggestionsAvailable"!==e).map(([e,{value:n}])=>{let s=i[n];return(0,t.jsx)(_,{label:s,value:n,count:o[n]},e)})})]})}},77352:(e,n,o)=>{o.d(n,{o:()=>Z});var t=o(486106),s=o(7378),c=o(770359),i=o(521428),r=o(59509),a=o(363675),l=o(438674),d=o(443820),_=o(443068),m=o(150656),p=o(44647),h=o(513456),u=o(243271),b=o(525530),f=o(666679),v=o(89370),g=o(289770),x=o(614223),w=o(700578),j=o(601108),y=o(935144),N=o(484865),C=o(911720),k=o(566371),S=o(734251),I=o(303541),T=o(332598),L=o(711907),R=o(819008),E=o(51387),M=o(693700);let D="component_browser_detail_view--titleContent--ZdxlO",O="component_browser_detail_view--title--Wsyqd",P="component_browser_detail_view--subtitle--PUhsW",A="component_browser_detail_view--infoTab--QAINZ",F="component_browser_detail_view--infoTabTable--MyZfY",K={r:0,g:0,b:0,a:0};function q({handleDeleteMapping:e,isDisabled:n,isIgnored:o}){return(0,t.jsx)(i.$n,{onClick:e,variant:"destructiveSecondary",disabled:n,children:o?(0,I.t)("dev_handoff.component_browser.has_code_equivalent"):(0,I.t)("dev_handoff.component_browser.disconnect")})}function B({leftLabel:e,rightLabel:n}){return(0,t.jsxs)("div",{className:"component_browser_detail_view--chevronSubtitle--xIC8u",children:[e,(0,t.jsx)(p.k,{}),n]})}function W({content:e,accessory:n}){return(0,t.jsxs)("div",{className:"component_browser_detail_view--titleItem--IEVMe",children:[e,n]})}function $({label:e,icon:n,value:o}){return(0,t.jsxs)("tr",{className:"component_browser_detail_view--infoTabRow--1cnrE",children:[(0,t.jsx)("td",{className:"component_browser_detail_view--infoTabItemIconCell--eigv4",children:n}),(0,t.jsx)("td",{className:"component_browser_detail_view--infoTabItemLabelCell--0Y-SV",children:e}),(0,t.jsx)("td",{className:"component_browser_detail_view--infoTabItemValueCell--68huU",children:o})]})}function U(){return(0,t.jsx)(r.Yy,{variant:"warn",children:(0,t.jsxs)(a.Q,{title:(0,I.t)("dev_handoff.component_browser.cli_only_title"),children:[(0,I.t)("dev_handoff.component_browser.cli_only_message"),(0,t.jsx)(l.N,{href:"https://www.figma.com/code-connect-docs/",children:(0,I.t)("dev_handoff.component_browser.learn_more")})]})})}function z({isConnected:e,isIgnored:n,data:o}){let s=o.component.code_connect_info.v1.author_name,c=o.component?.code_connect_info?.v1?.type==="figmadoc";return n?(0,t.jsx)("div",{className:A,children:(0,t.jsx)("table",{className:F,children:(0,t.jsxs)("tbody",{children:[(0,t.jsx)($,{label:(0,I.t)("dev_handoff.component_browser.marked_on"),icon:(0,t.jsx)(h.v,{}),value:o.component.name}),s&&(0,t.jsx)($,{label:(0,I.t)("dev_handoff.component_browser.marked_by"),icon:(0,t.jsx)(u._,{}),value:s})]})})}):e?(0,t.jsxs)("div",{className:"component_browser_detail_view--infoTabContainer---9h5X",children:[c&&(0,t.jsx)(U,{}),(0,t.jsx)("div",{className:A,children:(0,t.jsx)("table",{className:F,children:(0,t.jsxs)("tbody",{children:[(0,t.jsx)($,{label:(0,I.t)("dev_handoff.component_browser.connected_on"),icon:(0,t.jsx)(h.v,{}),value:o.component.name}),s&&(0,t.jsx)($,{label:(0,I.t)("dev_handoff.component_browser.connected_by"),icon:(0,t.jsx)(u._,{}),value:s})]})})})]}):null}function G({label:e}){let n=Array.from({length:15},(e,n)=>({code:"",lineNumber:n+1}));return(0,t.jsxs)("div",{className:"component_browser_detail_view--emptySourceCodeContainer--0guzU",children:[(0,t.jsx)("div",{className:"component_browser_detail_view--emptySourceCodeOverlay--QCKTU",children:(0,t.jsx)("div",{className:"component_browser_detail_view--emptySourceCodeOverlayText---Mr-e",children:e})}),(0,t.jsx)(T.yT,{includeMargin:!1,hideHeader:!0,section:{lines:n,language:"typescript",name:"code"},code:[{lines:n,language:"typescript",name:"code"}],copyAllActionEnabled:!0})]})}function J({data:e,onIgnoreMapping:n,sourceIndex:o,entrypoint:s}){return(0,t.jsxs)("div",{className:"component_browser_detail_view--emptySourceCodeTab--5AaCn",children:[(0,t.jsxs)("div",{className:"component_browser_detail_view--emptySourceCodeTabTitle--FGecJ",children:[(0,t.jsx)("span",{children:(0,I.t)("dev_handoff.component_browser.source_code")}),(0,t.jsx)(i.$n,{onClick:()=>{n({row:{assetKey:e.assetKey,sourceIndex:o,component:e.component,selectedFile:null,selectedComponent:null},trackingProps:{location:"side_sheet",entrypoint:s}})},variant:"secondary",children:(0,I.t)("dev_handoff.component_browser.no_code_equivalent")})]}),(0,t.jsx)(G,{label:(0,I.t)("dev_handoff.component_browser.empty_source_code_overlay_text")})]})}function Q({data:e,repositoryId:n}){let o=e.component.code_connect_info.v1.figmadoc,c=e=>{let n=e.match(/github\.com\/([^\/]+\/[^\/]+)\/blob\/[^\/]+\/(.+)/);return n?n[2]??void 0:e},i=(0,s.useMemo)(()=>{try{if(o){let t=JSON.parse(o),s=e.selectedFile?.metadata?.path;return{name:e.selectedComponent?.title,repositoryId:t[0]?.repository?.id??n,filePath:s?c(s):void 0}}}catch(e){return{errorMessage:(0,I.t)("dev_handoff.component_browser.error_retrieving_component_path_and_repository"),error:e}}},[o,e.selectedFile?.metadata?.path,e.selectedComponent?.title,n]),[r]=(0,k.IT)((0,E.Fq)({libraryKey:e.component.library_key,repositoryId:i?.repositoryId??"",filePath:i?.filePath??""}),{enabled:!!i?.repositoryId&&!!i?.filePath}),a=r.data?.content,l=(0,s.useMemo)(()=>{let n=a?.split("\n")??[],o=(0,L.$e)(e.selectedFile?.title??"");return{lines:n.map((e,n)=>{let o=Math.floor((e.match(/^(\s*)/)?.[1]||"").length/2);return{code:e,lineNumber:n+1,indent:o}}),language:o}},[a,e.selectedFile?.title]);return(0,t.jsx)("div",{className:"component_browser_detail_view--sourceCodeTab---zyhy",children:"loading"===r.status?(0,t.jsx)("div",{className:"component_browser_detail_view--loadingCode--esp-4",children:(0,t.jsx)(d.k,{})}):a?(0,t.jsx)(T.yT,{includeMargin:!1,hideHeader:!0,section:{lines:l.lines,language:(0,L.$e)(e.selectedFile?.title??""),name:e.selectedFile?.title??"code"},code:[{lines:l.lines,language:(0,L.$e)(e.selectedFile?.title??""),name:e.selectedFile?.title??"code"}],copyAllActionEnabled:!0}):(0,t.jsx)(G,{label:i?.errorMessage??(0,I.t)("dev_handoff.component_browser.file_not_found")})})}function H({data:e}){let[n,o]=(0,s.useState)(!1),i=function(e,n){let[o,t]=s.useState(null);return s.useEffect(()=>{if(!e){t(null);return}let o=(0,w.UN)().get(e);if(!o){t(null);return}(async function(){n(!0);try{if(!o){t(null);return}let e=(0,y.$w)(o),n=await (0,C.t2)(o,e,"web",async()=>{let[[e],[n]]=await (0,N.nP)(o,"get_code");return[e,n]},void 0);if(n[0]?.content&&Array.isArray(n[0].content)&&n[0].content[0]?.type==="text"){let e=n[0].content[0].text.replace(/<CodeConnectSnippet[^>]*>/g,"").replace(/<\/CodeConnectSnippet>/g,"").replace(/\n\s*\n/g,"\n");t(e)}else t(null)}catch(e){console.warn("Failed to generate MCP output:",e),t(null)}finally{n(!1)}})()},[e,n]),o}(e.component.node_id,o),r=(0,g.G)();return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"component_browser_detail_view--mcpTabInfoText--cp8bE",children:(0,I.t)("dev_handoff.component_browser.mcp_tab_info_text")}),n?(0,t.jsx)(d.k,{}):(0,t.jsx)(c.CH,{value:i??"",extensions:[c.g4],theme:"light"===r.color?"light":"dark"})]})}var Y=(e=>(e.Info="Info",e.SourceCode="SourceCode",e.Mcp="Mcp",e))(Y||{});function V({data:e}){let n=(0,g.G)(),[o,c]=(0,s.useState)(n.color);return(0,s.useEffect)(()=>{c(n.color)},[n.color]),(0,t.jsx)(x.J,{mode:o,children:(0,t.jsxs)("div",{className:"component_browser_detail_view--componentThumbnailPanel--tlaYl",children:[(0,t.jsx)("div",{className:"component_browser_detail_view--themeToggle--kLZt7",children:(0,t.jsx)(_.K,{size:"lg",variant:"secondary","aria-label":(0,I.t)("dev_handoff.component_browser.change_theme"),onClick:()=>c("light"===o?"dark":"light"),children:(0,t.jsx)(b.S,{})})}),(0,t.jsx)("div",{className:"component_browser_detail_view--imageWrapper--i16N8",children:(0,t.jsx)(R.D,{imageSrc:e.component.thumbnail_url??"",shouldZoomToStart:!1,shouldWheelPan:!0,imageScale:1,enableZoomKeyControls:!0,enableZoomControls:!0,pageBackgroundColor:K})})]})})}function X({data:e,isIgnored:n,isConnected:o,repositoryId:s,onIgnoreMapping:c,sourceIndex:i,entrypoint:r}){let a={Info:o||n?(0,t.jsx)(z,{isConnected:o,isIgnored:n,data:e}):(0,t.jsx)(J,{data:e,onIgnoreMapping:c,sourceIndex:i,entrypoint:r}),SourceCode:o&&(0,t.jsx)(Q,{data:e,repositoryId:s}),Mcp:(0,t.jsx)(H,{data:e})},l={Info:!0,SourceCode:o&&!n,Mcp:(0,j.k)().dt_component_browser_mcp_tab??!1},[d,_,p]=m.t.useTabs(l,{defaultActive:"Info"});return(0,t.jsx)("div",{className:"component_browser_detail_view--componentDetailTabsPanel--NXILY",children:(0,t.jsxs)("div",{className:"component_browser_detail_view--tabsContainer--S8u8q",children:[p.tabs.length>1&&(0,t.jsx)(m.t.TabStrip,{manager:p,children:p.tabs.map(e=>a[e]?(0,t.jsx)(m.t.Tab,{...d[e],children:function(e){switch(e){case"Info":return(0,I.t)("dev_handoff.component_browser.info_tab_title");case"SourceCode":return(0,I.t)("dev_handoff.component_browser.source_code");case"Mcp":return(0,I.t)("dev_handoff.component_browser.mcp_tab_title")}}(e)},e):null)}),(0,t.jsx)("div",{className:"component_browser_detail_view--tabContent--xWwoa",children:p.tabs.map(e=>{let n=a[e];return n?(0,t.jsx)(m.t.TabPanel,{..._[e],children:n},e):null})})]})})}function Z({data:e,sourceIndex:n,onClose:o,onRequestNextComponent:c,onRequestPreviousComponent:r,onDeleteMapping:a,onIgnoreMapping:l,onActiveRowChange:d,onConfirmConnection:m,onConfirmSuggestion:p,onComponentChanged:h,onFileChanged:u,onValueChange:b,inputRefs:g,repositoryId:x,isWindowed:w=!1,searchSessionId:j,entrypoint:y,isLoadingSuggestions:N}){let[C,k]=(0,s.useState)(null),[T,L]=(0,s.useState)(null),R=s.useRef(null),E=e?.component?.code_connect_info?.v1?.state==="connected",A=e?.component?.code_connect_info?.v1?.state==="ignored",F=e?.component?.code_connect_info?.v1?.type==="figmadoc";(0,s.useEffect)(()=>{k(e?.selectedFile??null),L(e?.selectedComponent??null)},[e]),(0,s.useEffect)(()=>{(A||E)&&R.current?.focus()},[A,E]);let K=()=>{let o=e.component.code_connect_info.v1.id;o&&a({codeConnectId:o,row:{assetKey:e.assetKey,sourceIndex:n,component:e.component,selectedFile:null,selectedComponent:null},trackingProps:{location:"side_sheet",entrypoint:y}})};return(0,t.jsx)(S.n.div,{ref:R,className:"component_browser_detail_view--wrapper--19kfI",onKeyDown:function(t){switch(t.key){case"ArrowUp":r?.();break;case"ArrowDown":c?.();break;case"Escape":o();break;case"Backspace":t.shiftKey&&l({row:{assetKey:e.assetKey,sourceIndex:n,component:e.component,selectedFile:C,selectedComponent:T},trackingProps:{location:"side_sheet",entrypoint:y}})}},tabIndex:-1,children:(0,t.jsxs)("div",{className:"component_browser_detail_view--content----WqK",children:[(0,t.jsxs)("div",{className:"component_browser_detail_view--titleContainer--uEBHQ",children:[(0,t.jsxs)("div",{className:"component_browser_detail_view--titleContainerLeft--ilpvY",children:[!w&&(0,t.jsx)(_.K,{"aria-label":(0,I.t)("dev_handoff.component_browser.close_component_browser"),onClick:()=>o(),children:(0,t.jsx)(f.O,{})}),(0,t.jsx)(W,{content:(0,t.jsxs)("div",{className:D,children:[(0,t.jsx)("div",{className:O,children:(0,I.t)("dev_handoff.component_browser.design_component")}),(0,t.jsx)("div",{className:P,children:e.component.name})]}),accessory:(0,t.jsx)(v.o,{})})]}),(0,t.jsx)("div",{className:"component_browser_detail_view--titleContainerRight--1wNmD",children:(0,t.jsx)(W,{content:E?(0,t.jsxs)("div",{className:D,children:[(0,t.jsx)("div",{className:O,children:(0,I.t)("dev_handoff.component_browser.code_component")}),(0,t.jsx)("div",{className:P,children:(0,t.jsx)(B,{leftLabel:C?.title??"",rightLabel:T?.title??""})})]}):A?(0,t.jsxs)("div",{className:D,children:[(0,t.jsx)("div",{className:O,children:(0,I.t)("dev_handoff.component_browser.code_component")}),(0,t.jsx)("div",{className:P,children:"--"})]}):(0,t.jsx)(M.uI,{component:e.component,currentRowIndex:n,entrypoint:y,inputRefs:g,isFirstRow:!0,isLoadingSuggestions:N,isRowActive:!0,isRowHovered:!0,item:e,libraryKey:e.component.library_key,location:"side_sheet",onActiveRowChange:d,onComponentChanged:h,onConfirmConnection:m,onConfirmSuggestion:p,onFileChanged:u,onValueChange:b,searchSessionId:j,showSuggestionsDebug:!1,sourceIndex:n,spacing:"compact",suggestions:[]}),accessory:E?(0,t.jsx)(q,{handleDeleteMapping:K,isDisabled:F,isIgnored:A}):A?(0,t.jsx)(i.$n,{onClick:K,variant:"secondary",children:(0,I.t)("dev_handoff.component_browser.has_code_equivalent")}):null})})]}),(0,t.jsxs)("div",{className:"component_browser_detail_view--panels--eIMlI",children:[(0,t.jsx)(V,{data:e}),(0,t.jsx)(X,{data:e,isConnected:E,isIgnored:A,repositoryId:x,onIgnoreMapping:l,sourceIndex:n,entrypoint:y})]})]})})}},886268:(e,n,o)=>{o.d(n,{ComponentBrowserLibraryView:()=>nE,T_:()=>nD});var t=o(486106),s=o(7378),c=o(53857),i=o(521428),r=o(443068),a=o(704296),l=o(994594),d=o(341359),_=o(716947),m=o(601108),p=o(27355),h=o(536384),u=o.n(h),b=o(288654),f=o(211694),v=o(408237),g=o(303541),x=o(303587),w=o(891724),j=o(232926),y=o(340571),N=o(29260),C=o(860955),k=o(963340),S=o(711470),I=o(129884);function T({currentSort:e,onSortChange:n}){let{manager:o,getTriggerProps:s}=C.b({initialPosition:"bottom"}),c=[{value:"alphabetically",label:(0,g.t)("dev_handoff.component_browser.sort_alphabetically")},{value:"insertions",label:(0,g.t)("dev_handoff.component_browser.sort_by_insertions")}];return(0,t.jsxs)(C.bL,{manager:o,children:[(0,t.jsx)(r.K,{...s(),"aria-label":(0,g.t)("dev_handoff.component_browser.sort_by"),htmlAttributes:{"data-tooltip-type":I.Ib.TEXT,"data-tooltip":(0,g.t)("dev_handoff.component_browser.sort_by"),"data-testid":"component_browser_sort_by"},children:(0,t.jsx)(S.S,{})}),(0,t.jsx)(C.mc,{children:(0,t.jsx)(k.z6,{title:(0,t.jsx)("div",{}),onChange:n,value:e,children:c.map(e=>(0,t.jsx)(k.CU,{value:e.value,children:e.label},e.value))})})]})}var L=o(88239),R=o(224366);o(506188);var E=o(43951),M=o(707808),D=o(428971),O=o(976845),P=o(632989),A=o(443820),F=o(125993),K=o(757007),q=o(251970),B=o(218029),W=o(850789),$=o(566371),U=o(621802),z=o(54715),G=o(944059),J=o(858013);function Q({id:e,isVisible:n,position:o,containerRef:c,isLoading:i,loadingMessage:r,items:a,noItemsView:l,renderItem:d,selectedIndex:_=0}){let m=(0,s.useRef)(null);return((0,s.useEffect)(()=>{if(n&&!i&&a.length>0&&m.current){let e=m.current.children[_];e&&e.scrollIntoView({block:"nearest"})}},[n,i,a.length,_]),n&&o)?(0,G.createPortal)((0,t.jsx)("div",{ref:c,id:e,className:"component_browser_chip_search_dropdown--componentBrowserChipSearchDropdownContainer--3WPEW",style:{top:`${o.top}px`,left:`${o.left}px`,width:`${o.width}px`},children:(0,t.jsx)("ul",{ref:m,className:"component_browser_chip_search_dropdown--resultsList--J1-7i",children:i?(0,t.jsxs)("li",{className:"component_browser_chip_search_dropdown--loadingState--BfIlh",children:[(0,t.jsx)(J.kt,{}),r]}):a.length>0?a.map((e,n)=>(0,t.jsx)(s.Fragment,{children:d(e,n)},n)):(0,t.jsx)("li",{children:l})})}),document.body):null}var H=o(430335);function Y({labels:e,onClick:n,onBackspace:o,isClearable:c}){return(0,t.jsx)("button",{onKeyDown:e=>{"Backspace"===e.key&&o?.()},onClick:n,className:"component_browser_chip_search_input--pillBase--HlS0p","aria-label":(0,g.t)("dev_handoff.component_browser.clear_input"),children:e.map((n,i)=>(0,t.jsxs)(s.Fragment,{children:[(0,t.jsx)("span",{"data-tooltip":n.tooltip,"data-tooltip-type":"text",className:"component_browser_chip_search_input--pillLabel--qzAew",children:n.value}),i<e.length-1&&(0,t.jsx)(U.R,{}),c&&(0,t.jsx)(z.f,{onClick:o,className:"component_browser_chip_search_input--pillClearIcon--QXb02"})]},`${n.value}-${i}`))})}function V({title:e,subtitle:n,onClick:o,icon:s,isSelected:c}){return(0,t.jsx)("li",{children:(0,t.jsxs)(P.E,{className:u()("component_browser_chip_search_input--item--IGp8Y",{"component_browser_chip_search_input--selected--gg3EU":c}),onClick:e=>{e.stopPropagation(),o()},children:[s&&(0,t.jsx)("div",{className:"component_browser_chip_search_input--itemIcon--8ZOb3",children:s}),(0,t.jsxs)("div",{className:"component_browser_chip_search_input--itemContent--2QfZV",children:[(0,t.jsx)("div",{className:"component_browser_chip_search_input--title--oGz9H",children:e}),n&&(0,t.jsx)("div",{className:"component_browser_chip_search_input--subtitle--5zMEl",children:n})]})]})})}let X="component-browser-chip-search-dropdown",Z=s.forwardRef(function({placeholder:e,disabled:n,searchResults:o,isLoadingSearchResults:c,selectedItem:i,onChipSelect:r,onDeleteLastItem:l,onDropdownItemClick:d,onValueChanged:_,onEnterPressed:m,showDropdown:p=!0,showDropdownOnFocus:h=!1,arePillsClearable:b=!1,isClearable:f=!0,hint:v,onboardingKey:x},w){let[j,y]=(0,s.useState)({value:"",isSearchListOpen:!1,dropdownPosition:null,isConnecting:!1,selectedIndex:0}),N=(0,s.useRef)(j.value),C=(0,s.useRef)(null),k=(0,s.useRef)(null);(0,s.useEffect)(()=>{if(j.isSearchListOpen&&C.current){let e=C.current.getBoundingClientRect();y(n=>({...n,dropdownPosition:{top:e.bottom+window.scrollY,left:e.left+window.scrollX,width:e.width}}))}else y(e=>({...e,dropdownPosition:null}))},[j.isSearchListOpen]),(0,s.useEffect)(()=>{function e(e){let n=e.target;C.current&&!C.current.contains(n)&&k.current&&!k.current.contains(n)&&y(e=>({...e,isSearchListOpen:!1}))}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let S=()=>{y(e=>({...e,value:"",isSearchListOpen:!1}))},I=e=>{y(e=>({...e,isSearchListOpen:!1,value:"",selectedIndex:0})),d(e)},T=e=>{""!==e&&e!==N.current&&(N.current=e,m?.(e)&&S())};return(0,t.jsxs)("div",{className:"component_browser_chip_search_input--inlineSearchContainer--8CJzi",ref:C,children:[(0,t.jsx)("div",{className:"component_browser_chip_search_input--inputWrapper--aiWWZ",children:(0,t.jsxs)("div",{className:u()(H.KF,{[H.r9]:n}),children:[i&&(0,t.jsx)(Y,{onBackspace:()=>{l(),w.current?.focus()},labels:i.value,onClick:()=>r?.(i),isClearable:b}),(0,t.jsx)("input",{ref:w,className:"component_browser_chip_search_input--input--KG-iT faceted_search_bar--input--V5ksZ","data-onboarding-key":x,onBlur:e=>{T(j.value);let n=e.relatedTarget;n?.closest(`#${X}`)||y(e=>({...e,isSearchListOpen:!1,selectedIndex:0}))},onChange:e=>{if(n||i)return;let o=e.target.value;y(e=>({...e,value:o,isSearchListOpen:o.length>0,selectedIndex:0})),_(o)},onFocus:()=>{h&&y(e=>({...e,isSearchListOpen:!0,selectedIndex:0}))},onKeyDown:e=>{if(!n){if("Backspace"===e.key&&""===j.value&&l(),"Enter"===e.key){if(o&&o.length>0){let n=o[j.selectedIndex];if(n){e.preventDefault(),I(n);return}}T(j.value)}"ArrowDown"===e.key&&o&&o.length>0&&(e.preventDefault(),y(e=>({...e,selectedIndex:(e.selectedIndex+1)%o.length}))),"ArrowUp"===e.key&&o&&o.length>0&&(e.preventDefault(),y(e=>({...e,selectedIndex:0===e.selectedIndex?o.length-1:e.selectedIndex-1})))}},placeholder:e,type:"search",value:j.value}),i&&f&&(0,t.jsx)("div",{className:"component_browser_chip_search_input--clearIconContainer--lm-6s",children:(0,t.jsx)(a.L,{className:"component_browser_chip_search_input--clearIcon--1KMS0",onClick:l})})]})}),p&&(0,t.jsx)(Q,{id:X,isVisible:!!j.isSearchListOpen,position:j.dropdownPosition,containerRef:k,isLoading:c||!1,items:o||[],selectedIndex:j.selectedIndex,noItemsView:(0,t.jsxs)("div",{className:"component_browser_chip_search_input--noItemsView--dmc-y",children:[(0,t.jsx)("span",{className:"component_browser_chip_search_input--noItemsTitle--MF48d",children:(0,g.t)("dev_handoff.component_browser.no_results_found")}),v&&(0,t.jsx)("div",{className:"component_browser_chip_search_input--hint--W3h7w",children:(0,t.jsx)("span",{children:v})})]}),renderItem:(e,n)=>(0,t.jsx)(V,{icon:e.icon,title:e.title,subtitle:e.subtitle,onClick:()=>I(e),isSelected:n===j.selectedIndex})})]})});var ee=o(282084),en=o(436658);let eo=({searchTerm:e,libraryKey:n,selectedRepositories:o})=>{let t=(o?.length??0)>0,c=o[0],[i]=(0,$.IT)((0,ee.Tp)({libraryKey:n,repository:c?.id??""}),{enabled:!!n&&t&&!!c,key:"repositorySourceFilesQuery"}),r=(0,s.useMemo)(()=>{let n=e.match(/^https?:\/\/github\.com\/([a-zA-Z0-9-_.]+)\/([a-zA-Z0-9-_.]+)\/(?:blob|tree)\/([a-zA-Z0-9-_.]+)\/(.*)$/);if(n){let[,,,,e]=n;return e}let o=e.replace(/^https?:\/\//,"");if(/^[a-zA-Z0-9\-_./\\]+$/.test(o))return o},[e]);return{result:(0,s.useMemo)(()=>i.data&&r?(0,B.$P)(r,i.data,{keySelector:e=>[e.path,e.name],threshold:.6,limit:10,ignoreCase:!0,ignoreSymbols:!0}).map(e=>({title:e.name,subtitle:e.path,metadata:e})):[],[i.data,r]),isLoading:"loading"===i.status||"disabled"===i.status}},et=(0,s.forwardRef)(function(e,n){let{sourceIndex:o,currentRowIndex:c,component:i,libraryKey:r,disabled:a,onFileChanged:l,selectedFile:d,selectedRepositories:_,onboardingKey:m,entrypoint:p}=e,[h,u]=(0,s.useState)(""),[b]=(0,W.A)(h,300),f=(_?.length??0)>0,v=i?.code_connect_info.v1.state==="ignored",{result:x,isLoading:w}=eo({searchTerm:b,libraryKey:r,selectedRepositories:_});if(v)return(0,t.jsx)("span",{children:"--"});let j=i?.node_id;if(i&&!j)return null;let y=d?.title?{value:[{value:d.title,tooltip:d.metadata?.path}]}:void 0;return(0,t.jsx)(Z,{ref:n,arePillsClearable:!0,disabled:a,hint:(0,g.t)("dev_handoff.component_browser.file_search_hint"),isClearable:!1,isLoadingSearchResults:w,onDeleteLastItem:()=>{l({sourceIndex:o,selectedFile:null,currentRowIndex:c,trackingProps:{location:e.location,source:"manual",entrypoint:p}})},onDropdownItemClick:n=>{l({sourceIndex:o,selectedFile:n,currentRowIndex:c,trackingProps:{location:e.location,source:"manual",entrypoint:p}})},onEnterPressed:n=>{if(""===n.trim())return!1;if(0===x.length){let t=n.split("/");return l({sourceIndex:o,currentRowIndex:c,selectedFile:{title:(0,en.Wq)(t,n)??n,subtitle:n,metadata:{isCustomLink:!0,repository:{id:"",name:""},path:n}},trackingProps:{location:e.location,source:"manual",entrypoint:p}}),!0}return u(n),!1},onValueChanged:e=>{u(e)},onboardingKey:m,placeholder:d?"":(0,g.t)("dev_handoff.component_browser.paste_code_link"),searchResults:x,selectedItem:y,showDropdown:f})}),es="component_browser_bulk_icon_connect--container--j5G1s",ec="component_browser_bulk_icon_connect--content--6ciQR",ei="component_browser_bulk_icon_connect--connectStateText--y18Lf",er="component_browser_bulk_icon_connect--spinnerContainer--zuPn7",ea="component_browser_bulk_icon_connect--progressText--5HqXg",el="component_browser_bulk_icon_connect--connectStateContainer--i7RgN",ed="component_browser_bulk_icon_connect--connectStateRightContent--5AW1y";var e_=(e=>(e.INITIAL="initial",e.CONNECTING="connecting",e.CONNECTED="connected",e.DISCONNECTING="disconnecting",e))(e_||{});function em({connectedComponents:e,onDeleteMapping:n,entrypoint:o}){let{getTriggerProps:s,manager:c}=C.b();return(0,t.jsxs)(C.bL,{manager:c,children:[(0,t.jsx)(O.d,{"aria-label":(0,g.t)("dev_handoff.component_browser.bulk_icon_connect.more_options"),htmlAttributes:{"data-tooltip":(0,g.t)("dev_handoff.component_browser.bulk_icon_connect.more_options"),"data-tooltip-type":I.Ib.TEXT},...s(),children:(0,t.jsx)(F.J,{})}),(0,t.jsx)(C.mc,{children:(0,t.jsx)(C.q7,{onClick:function(){for(let t of e)t.component.isIcon&&n({codeConnectId:t.component.code_connect_info.v1.id,row:{...t,selectedFile:null,selectedComponent:null},trackingProps:{location:"list_view",entrypoint:o}})},disabled:0===e.length,children:(0,g.t)("dev_handoff.component_browser.bulk_icon_connect.disconnect_all")})})]})}function ep({connectedComponents:e,notConnectedComponents:n,onConnectMapping:o,libraryKey:c,entrypoint:i}){let[a,l]=(0,s.useState)(null),[_,m]=(0,s.useState)("initial"),[p,h]=(0,s.useState)(0),[u,b]=(0,s.useState)(0),f=s.useRef(null),v=(0,y.OG)(c);s.useEffect(()=>{0===e.length&&"connected"===_&&m("initial")},[e,_]);let x=(0,s.useCallback)(e=>{l(e.selectedFile)},[]),w=()=>{if(a)for(let e of(m("connecting"),h(0),b(n.length),n))o({row:{assetKey:e.assetKey,sourceIndex:e.sourceIndex,component:e.component,selectedFile:a,selectedComponent:{title:e.component.name}},trackingProps:{location:"list_view",source:"manual",entrypoint:i},callback:e=>{if(e){m("initial");return}h(e=>e+1),p===u&&m("connected")}})};return(0,t.jsx)(d.J,{children:(()=>{switch(_){case"initial":return n.length>0&&(0,t.jsx)("div",{className:es,children:(0,t.jsx)("div",{className:"component_browser_bulk_icon_connect--initialContent--yYbWa",children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"component_browser_bulk_icon_connect--header--z22ji",children:[(0,t.jsx)("h2",{className:"component_browser_bulk_icon_connect--title--Ssiyo",children:e.length>0?(0,g.t)("dev_handoff.component_browser.bulk_icon_connect.connect_remaining",{count:n.length}):(0,g.t)("dev_handoff.component_browser.bulk_icon_connect.connect_all",{count:n.length})}),(0,t.jsx)("p",{className:"component_browser_bulk_icon_connect--description--fumpL",children:(0,g.t)("dev_handoff.component_browser.bulk_icon_connect.description")})]}),(0,t.jsxs)("div",{className:"component_browser_bulk_icon_connect--inputGroup--rMbmm",children:[(0,t.jsx)(et,{ref:f,sourceIndex:0,libraryKey:c,onFileChanged:x,selectedFile:a,selectedRepositories:v?.selectedRepositories??[],location:"list_view",entrypoint:i}),(0,t.jsx)(P.E,{className:"component_browser_bulk_icon_connect--connectButton--QRuMQ",onClick:w,disabled:!a,children:(0,g.t)("dev_handoff.component_browser.bulk_icon_connect.connect_button")})]})]})})});case"connecting":return(0,t.jsx)("div",{className:es,children:(0,t.jsx)("div",{className:ec,children:(0,t.jsxs)("div",{className:el,children:[(0,t.jsxs)("div",{className:er,children:[(0,t.jsx)(A.k,{size:"sm"}),(0,t.jsx)("h2",{className:ei,children:(0,g.t)("dev_handoff.component_browser.bulk_icon_connect.connecting_progress")})]}),(0,t.jsx)("div",{className:ed,children:(0,t.jsx)("p",{className:ea,children:(0,g.t)("dev_handoff.component_browser.bulk_icon_connect.connected_progress",{connected:p,total:u})})})]})})});case"connected":return(0,t.jsx)("div",{className:es,children:(0,t.jsx)("div",{className:ec,children:(0,t.jsxs)("div",{className:el,children:[(0,t.jsxs)("div",{className:"component_browser_bulk_icon_connect--checkmarkContainer---3EnN",children:[(0,t.jsx)(K.g,{className:"component_browser_bulk_icon_connect--checkmark--l-ftB",style:{"--color-icon":"var(--color-icon-success)"}}),(0,t.jsx)("h2",{className:ei,children:(0,g.t)("dev_handoff.component_browser.bulk_icon_connect.connected_success",{count:e.length})})]}),(0,t.jsx)("div",{className:ed,children:(0,t.jsx)(r.K,{"aria-label":(0,g.t)("dev_handoff.component_browser.bulk_icon_connect.close_notification"),onClick:()=>m("initial"),children:(0,t.jsx)(q.A,{})})})]})})});case"disconnecting":return(0,t.jsx)("div",{className:es,children:(0,t.jsx)("div",{className:ec,children:(0,t.jsxs)("div",{className:el,children:[(0,t.jsxs)("div",{className:er,children:[(0,t.jsx)(A.k,{size:"sm"}),(0,t.jsx)("h2",{className:ei,children:(0,g.t)("dev_handoff.component_browser.bulk_icon_connect.disconnecting_progress")})]}),(0,t.jsx)("div",{className:ed,children:(0,t.jsx)("p",{className:ea,children:(0,g.t)("dev_handoff.component_browser.bulk_icon_connect.disconnected_progress",{disconnected:p,total:u})})})]})})})}})()})}var eh=o(77352),eu=o(832968),eb=o(433065),ef=o(569454),ev=o(358700);let eg="progress_ring--ring--QMZk8";function ex(e){let{fraction:n,stroke:o=2,size:s=16,color:c="var(--color-icon-menu-tertiary, rgba(255, 255, 255, 0.4))"}=e,i=s/2,r=(s-o)/2,a=2*r*Math.PI;return(0,t.jsxs)("svg",{height:s,width:s,children:[e.background&&(0,t.jsx)("circle",{className:eg,strokeWidth:o,strokeDasharray:`${a} ${a}`,strokeDashoffset:0,r:r,cx:i,cy:i,style:{stroke:e.background}}),(0,t.jsx)("circle",{className:eg,strokeWidth:o,strokeDasharray:`${a} ${a}`,style:{strokeDashoffset:a-n*a,stroke:c},r:r,cx:i,cy:i})]})}let ew="component_browser_library_view_mapping_counts--statusRow--U5TVX",ej="component_browser_library_view_mapping_counts--statusText--EMe8n",ey="component_browser_library_view_mapping_counts--iconRingContainer--35-2h",eN="component_browser_library_view_mapping_counts--centeredIcon--9-npT";function eC({notConnectedComponents:e,connectedComponents:n,ignoredComponents:o}){let s=n.length+e.length+o.length,c=e=>0===s?0:Math.round(e/s*100);return(0,t.jsxs)("div",{className:"component_browser_library_view_mapping_counts--container--rjZ68",children:[(0,t.jsx)("div",{className:"component_browser_library_view_mapping_counts--border--M34yA"}),(0,t.jsx)("div",{className:"component_browser_library_view_mapping_counts--headerRow--dorJ-",children:(0,t.jsx)("div",{className:"component_browser_library_view_mapping_counts--title--mlZdy",children:(0,g.tx)("dev_handoff.component_browser_right_panel_mapping_counts.title")})}),(0,t.jsxs)("div",{className:"component_browser_library_view_mapping_counts--statusSection--229SS",children:[(0,t.jsxs)("div",{className:ew,children:[(0,t.jsxs)("div",{className:ey,children:[(0,t.jsx)(ex,{fraction:c(e.length)/100,color:"var(--color-multiplayergrey)",background:"var(--color-bg-secondary)",size:32,stroke:4}),(0,t.jsx)(eb.w,{className:eN,style:{"--color-icon":"var(--color-multiplayergrey)"}})]}),(0,t.jsx)("div",{className:ej,children:(0,g.tx)("dev_handoff.component_browser.in_context_section_percent_components_need_to_be_mapped",{num_components:c(e.length)})})]}),(0,t.jsxs)("div",{className:ew,children:[(0,t.jsxs)("div",{className:ey,children:[(0,t.jsx)(ex,{fraction:c(n.length)/100,color:"var(--color-bg-handoff)",background:"var(--color-bg-handoff-tertiary)",size:32,stroke:4}),(0,t.jsx)(ef.W,{className:eN,style:{"--color-icon":"var(--color-bg-handoff)"}})]}),(0,t.jsx)("div",{className:ej,children:(0,g.tx)("dev_handoff.component_browser.in_context_section_percent_components_mapped",{num_components:c(n.length)})})]}),(0,t.jsxs)("div",{className:ew,children:[(0,t.jsxs)("div",{className:ey,children:[(0,t.jsx)(ex,{fraction:c(o.length)/100,color:"var(--color-bg-warning)",background:"var(--color-bg-warning-tertiary)",size:32,stroke:4}),(0,t.jsx)(ev.M,{className:eN,style:{"--color-icon":"var(--color-icon-warning)"}})]}),(0,t.jsx)("div",{className:ej,children:(0,g.tx)("dev_handoff.component_browser.in_context_section_percent_components_can_t_be_mapped",{num_components:c(o.length)})})]})]})]})}var ek=o(865305),eS=o(901889);let eI="component_browser_library_view_suggestions_status--container--qSV-D",eT="component_browser_library_view_suggestions_status--border--Jw79U",eL="component_browser_library_view_suggestions_status--header--kBmN-",eR="component_browser_library_view_suggestions_status--headerRow--QgWgT",eE="component_browser_library_view_suggestions_status--title--inV3P",eM="component_browser_library_view_suggestions_status--statusSection--BDuQ4",eD="component_browser_library_view_suggestions_status--statusDescriptionRow--Iehb8",eO="component_browser_library_view_suggestions_status--statusDescription---7S3f",eP="component_browser_library_view_suggestions_status--statusDotCircle--5M5TN",eA="component_browser_library_view_suggestions_status--statusDotCircleTertiary--AnmEk",eF="component_browser_library_view_suggestions_status--statusButtonContainer--BkWpr";function eK({indexingState:e,componentsWithSuggestionsCount:n,totalComponentsCount:o,onChooseDirectories:s,onViewSuggestions:c}){let r="",a="",l=eP,d="",_=()=>{};switch(e){case"directory_selection_required":r=(0,g.t)("dev_handoff.component_browser.suggestions_status.no_suggestions"),a=(0,g.t)("dev_handoff.component_browser.suggestions_status.directory_selection_required_description"),l=eP+" "+eA,d=(0,g.t)("dev_handoff.component_browser.suggestions_status.choose_directories"),_=s;break;case"indexing":r=(0,g.t)("dev_handoff.component_browser.suggestions_status.indexing_in_progress"),a=(0,g.t)("dev_handoff.component_browser.suggestions_status.indexing_description"),l=eP+" component_browser_library_view_suggestions_status--statusDotCircleWarning--XNDIt";break;case"complete_available_components":r=(0,g.t)("dev_handoff.component_browser.suggestions_status.suggestions_available"),a=(0,g.t)("dev_handoff.component_browser.suggestions_status.suggestions_available_description",{suggestions_count:n??0,total_components_count:o??0}),l=eP+" component_browser_library_view_suggestions_status--statusDotCircleHandoff--Vd7wB",d=(0,g.t)("dev_handoff.component_browser.suggestions_status.view_suggestions"),_=c;break;case"complete_no_available_components":r=(0,g.t)("dev_handoff.component_browser.suggestions_status.no_suggestions"),a=(0,g.t)("dev_handoff.component_browser.suggestions_status.no_suggestions_description"),l=eP+" "+eA}return(0,t.jsxs)("div",{className:eI,children:[(0,t.jsx)("div",{className:eT}),(0,t.jsx)("div",{className:eL,children:(0,t.jsxs)("div",{className:eR,children:[(0,t.jsx)(ek.N,{}),(0,t.jsx)("div",{className:eE,children:(0,t.jsx)("p",{children:(0,g.t)("dev_handoff.component_browser.suggestions_status.title")})})]})}),(0,t.jsxs)("div",{className:eM,children:[(0,t.jsxs)("div",{className:"component_browser_library_view_suggestions_status--statusRow--BJKC5",children:[(0,t.jsx)("div",{className:l}),(0,t.jsx)("div",{className:"component_browser_library_view_suggestions_status--statusText--IRVPD",children:(0,t.jsx)("p",{children:r})})]}),(0,t.jsx)("div",{className:eD,children:(0,t.jsx)("div",{className:eO,children:(0,t.jsx)("p",{children:a})})}),d.length>0&&(0,t.jsx)("div",{className:eF,children:(0,t.jsx)(i.$n,{variant:"secondary",onClick:_,children:d})})]})]})}function eq({onChooseDirectories:e}){let n=(0,eS.hC)();return(0,t.jsxs)("div",{className:eI,children:[(0,t.jsx)("div",{className:eT}),(0,t.jsx)("div",{className:eL,children:(0,t.jsx)("div",{className:eR,children:(0,t.jsx)("div",{className:u()(eE,"component_browser_library_view_suggestions_status--directorySelectionRequiredTitle--ZQzx-"),children:(0,t.jsx)("p",{children:(0,g.t)("dev_handoff.component_browser.suggestions_status.pick_directories")})})})}),(0,t.jsxs)("div",{className:eM,children:[(0,t.jsx)("div",{className:eD,children:(0,t.jsx)("div",{className:eO,children:(0,t.jsx)("p",{children:(0,g.t)("dev_handoff.component_browser.suggestions_status.directory_selection_required_description")})})}),(0,t.jsx)("div",{className:eF,children:(0,t.jsx)(i.$n,{variant:"secondary",onClick:()=>{e(),n("component_browser.clicked_change_directories",{location:"directories_not_picked_cta"})},children:(0,g.t)("dev_handoff.component_browser.suggestions_status.choose_directories")})})]})]})}function eB({notConnectedComponents:e,connectedComponents:n,ignoredComponents:o,suggestionsAvailableComponents:s,repositoryDirectories:c,directoriesHasLoaded:i,onChooseDirectories:r,onViewSuggestions:a,libraryKey:l}){let{indexingState:d,componentsWithSuggestionsCount:_,hasLoaded:p}=function(e,n,o){let{ingestionStatus:t,hasLoaded:s}=(0,eu.K)(o);if(0===n.length)return{indexingState:"directory_selection_required",componentsWithSuggestionsCount:0,hasLoaded:s};if("in_progress"===t||"not_connected"===t)return{indexingState:"indexing",componentsWithSuggestionsCount:0,hasLoaded:s};let c=e.length;return 0===c?{indexingState:"complete_no_available_components",componentsWithSuggestionsCount:0,hasLoaded:s}:{indexingState:"complete_available_components",componentsWithSuggestionsCount:c,hasLoaded:s}}(s,c,l),h=p&&i;return(0,t.jsxs)("div",{className:"component_browser_library_view_analysis_card--container--GT6I0",children:[(0,t.jsx)(eC,{notConnectedComponents:e,connectedComponents:n,ignoredComponents:o}),(0,m.k)().dt_component_browser_bulk_mapping&&h&&(0,t.jsx)(eK,{indexingState:d,componentsWithSuggestionsCount:_,totalComponentsCount:e.length+n.length+o.length,onChooseDirectories:r,onViewSuggestions:a}),!(0,m.k)().dt_component_browser_bulk_mapping&&(0,m.k)().dt_component_browser_inline_suggestions&&h&&"directory_selection_required"===d&&(0,t.jsx)(eq,{onChooseDirectories:r})]})}var eW=o(514228),e$=o(691059),eU=o(438674),ez=o(295932),eG=o(481313),eJ=o(932503),eQ=o(508367),eH=o(169182),eY=o(47866),eV=o(675859),eX=o(258006),eZ=o(975106),e0=o(867927),e1=o(932270),e8=o(437088),e6=o(38914),e2=o(272243),e3=o(831799),e5=o(102752),e4=o(647011),e7=o(158057),e9=o(251689),ne=o(665611);let nn=(0,e5.Ju)(function(e){let n=e8.hS(e),{installMethod:o,setInstallMethod:s,availableInstallMethods:i}=(0,e7.gK)(!0),r=(0,eZ.G)();return(0,t.jsx)(e3.fu,{name:"Codebase Suggestions Onboarding Modal",children:(0,t.jsx)(e6.bL,{manager:n,width:"lg",height:"dynamic",children:(0,t.jsxs)(e2.vo,{children:[(0,t.jsx)(e2.Y9,{children:(0,t.jsx)(e2.hE,{children:(0,t.jsxs)("div",{className:"codebase_suggestions_onboarding_modal--title--xqlCj",children:[(0,g.t)("dev_handoff.codebase_suggestions.onboarding_title"),(0,t.jsx)(c.E,{children:(0,g.t)("dev_handoff.codebase_suggestions.alpha")})]})})}),(0,t.jsx)(e2.nB,{padding:0,children:(0,t.jsxs)("div",{className:"codebase_suggestions_onboarding_modal--body--vuR62",children:[(0,t.jsxs)("div",{className:"codebase_suggestions_onboarding_modal--header--5Yg-p",children:[(0,t.jsx)("div",{className:"codebase_suggestions_onboarding_modal--heading--oSLk2",children:(0,g.t)("dev_handoff.codebase_suggestions.onboarding_body_title")}),(0,t.jsx)("p",{children:(0,g.t)("dev_handoff.codebase_suggestions.onboarding_body_description")}),"disabled"===r&&(0,t.jsx)(ne.P,{}),i.length>1&&o&&(0,t.jsx)(no,{methodDetails:o,onMethodChange:s,availableMethods:i})]}),o&&(0,t.jsx)(e9.o,{installMethod:o.installMethod,onContinue:()=>e.onClose()})]})}),(0,t.jsx)(e2.wi,{children:(0,t.jsx)("div",{className:"codebase_suggestions_onboarding_modal--actionStrip--sGI6V",children:(0,t.jsx)(e4.n,{})})})]})})})});function no({methodDetails:e,onMethodChange:n,availableMethods:o}){return(0,t.jsx)(e0.bL,{value:e.installMethod,onChange:n,legend:(0,t.jsx)(e1.q,{children:(0,g.t)("dev_handoff.codebase_suggestions.installation_methods")}),children:o.map(e=>(0,t.jsx)(e0.RT,{value:e.installMethod,label:e.renderTitle()},e.installMethod))})}var nt=o(871209),ns=o(511088),nc=o(156213),ni=o(640017),nr=o(449184),na=o(302958),nl=o(465071),nd=o(70843),n_=o(218868);let nm="confirm_deletion_modal--bodyText--OTH-f",np=(0,e5.Ju)(function(e){let n=e8.hS(e),o=(0,nl.D6)("ConfirmDeletionModal"),c=(0,eW.wA)(),r="loaded"===o.status,[a,l]=(0,s.useState)(!1),d=o.data?.planKey,_=d?.type,m=d?.parentId,p=(0,s.useCallback)(async()=>{if(_&&m){(0,nr.sx)(n_.WG),l(!0);try{await nd.w.deleteAllCodeSuggestions({planParentType:_,planParentId:m}),c(na.F.enqueue({type:"success",message:(0,g.t)("dev_handoff.codebase_suggestions.deletion_request_received_it_may_take_a_few_minutes_to_complete")})),e.onClose()}catch(e){c(na.F.enqueue({type:"error",message:(0,g.t)("dev_handoff.codebase_suggestions.failed_to_submit_deletion_request_please_try_again_later")})),l(!1)}}},[e,c,_,m]);return(0,t.jsx)(e6.bL,{manager:n,width:"md",children:(0,t.jsxs)(e2.vo,{children:[(0,t.jsx)(e2.Y9,{children:(0,t.jsx)(e2.hE,{children:(0,g.t)("dev_handoff.codebase_suggestions.delete_all_visual_codebase_suggestions")})}),(0,t.jsxs)(e2.nB,{children:[(0,t.jsx)("p",{className:nm,children:(0,g.t)("dev_handoff.codebase_suggestions.are_you_sure_you_want_to_delete_all_the_visual_codebase_suggestions_that_have_been_collected_so_far")}),(0,t.jsx)("p",{className:nm,children:(0,g.t)("dev_handoff.codebase_suggestions.this_will_delete_all_the_visual_codebase_suggestions_that_have_been_collected_so_far_for_your_organization_you_ll_need_to_connect_your_running_app_again_if_you_change_your_mind")}),(0,t.jsx)("p",{className:nm,children:(0,g.t)("dev_handoff.codebase_suggestions.this_will_not_delete_any_explicit_code_connect_mappings_you_have_made_with_those_suggestions")})]}),(0,t.jsx)(e2.wi,{children:(0,t.jsxs)(e2.jk,{children:[(0,t.jsx)(i.$n,{variant:"secondary",onClick:e.onClose,children:(0,g.t)("dev_handoff.codebase_suggestions.cancel")}),(0,t.jsx)(i.$n,{variant:"destructive",disabled:!(r&&!a),onClick:p,children:(0,g.t)("dev_handoff.codebase_suggestions.delete")})]})})]})})}),nh="component_browser_settings_panel--iconContainer--xstoF",nu="component_browser_settings_panel--optionTitleText--KwUII",nb="component_browser_settings_panel--option--v7PyN",nf="component_browser_settings_panel--optionTitle--hQS7B",nv="component_browser_settings_panel--directoryItem--IBCJc",ng="component_browser_settings_panel--directoryIcon--bccXc",nx="component_browser_settings_panel--directoryItemText--Dxd-X";function nw({onChangeRepo:e,onChangeGithubDirectories:n,status:o,hasMultipleAvailableRepositories:c}){let{getTriggerProps:r,manager:a}=C.b(),l=(0,nt.e)(),[d,_]=s.useState(!1),p=async()=>{_(!0);try{await l()}finally{_(!1)}},h=async()=>{let e=await (0,ns.l)();(0,eQ.FJ)(e.manage)},u={[y.w6.Connected]:(0,t.jsxs)(t.Fragment,{children:[c&&(0,t.jsx)(C.q7,{onClick:e,children:(0,g.t)("dev_handoff.component_browser.settings.change_repository")}),(0,m.k)().dt_component_browser_inline_suggestions&&(0,t.jsx)(C.q7,{onClick:n,children:(0,g.t)("dev_handoff.component_browser.settings.change_github_directories")}),(0,t.jsx)(C.q7,{onClick:h,children:(0,g.t)("dev_handoff.component_browser.settings.disconnect")})]}),[y.w6.NeedsInfo]:(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(C.q7,{onClick:e,children:(0,g.t)("dev_handoff.component_browser.settings.select_repository")})}),[y.w6.Pending]:(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(C.q7,{onClick:h,children:(0,g.t)("dev_handoff.component_browser.settings.manage_request")})}),[y.w6.NotSetup]:(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(C.q7,{onClick:p,children:d?(0,t.jsx)(A.k,{size:"sm"}):(0,g.t)("dev_handoff.component_browser.settings.setup")})})};return(0,t.jsxs)(C.bL,{manager:a,children:[(0,t.jsx)(i.$n,{variant:"ghost",...r(),children:(0,t.jsx)(F.J,{})}),(0,t.jsx)(C.mc,{children:u[o]})]})}function nj(){let e=(0,eW.wA)(),{getTriggerProps:n,manager:o}=C.b(),c=s.useCallback(()=>{e(nc.to({type:nn}))},[e]),r=s.useCallback(()=>{e((0,nc.to)({type:np}))},[e]);return(0,t.jsx)("div",{className:"component_browser_settings_panel--setupIngestionButton---keGz",children:(0,t.jsxs)(C.bL,{manager:o,children:[(0,t.jsx)(i.$n,{variant:"ghost",...n(),children:(0,t.jsx)(F.J,{})}),(0,t.jsxs)(C.mc,{children:[(0,t.jsx)(C.q7,{onClick:c,children:(0,g.t)("dev_handoff.component_browser.settings.setup")}),(0,t.jsx)(C.q7,{onClick:r,children:(0,g.t)("dev_handoff.codebase_suggestions.delete_all_codebase_suggestions")})]})]})})}function ny({status:e}){switch(e){case y.w6.Pending:return(0,t.jsx)(c.E,{variant:"warningOutline",children:(0,g.t)("dev_handoff.component_browser_source_connection_status.pending")});case y.w6.NeedsInfo:return(0,t.jsx)(c.E,{variant:"warningOutline",children:(0,g.t)("dev_handoff.component_browser_source_connection_status.needs_info")});case y.w6.Connected:return(0,t.jsx)(c.E,{variant:"successOutline",children:(0,g.t)("dev_handoff.component_browser_source_connection_status.connected")});default:return(0,t.jsx)(c.E,{variant:"inactiveOutline",children:(0,g.t)("dev_handoff.component_browser_source_connection_status.not_setup")})}}function nN({position:e,getContainerProps:n,onOpenChange:o,libraryKey:c}){let i="dark"===(0,ni.DP)(),r=(0,eS.hC)(),a=(0,eZ.A)(),l=i?(0,eH.ck)("87362980e1543a5db4a0044590b04d5f491a1e75"):(0,eH.ck)("a938cc4b8421dc36477282e09f83e9e6770065ed"),d=(0,L.Bt)(),_=(0,y.OG)(c),p=_?.selectedRepositories?.[0],h={[y.w6.Connected]:p?.name??(0,g.t)("dev_handoff.component_browser.settings.change_repository"),[y.w6.NeedsInfo]:(0,g.t)("dev_handoff.component_browser.settings.connect_github"),[y.w6.Pending]:(0,g.t)("dev_handoff.component_browser.settings.connect_github"),[y.w6.NotSetup]:(0,g.t)("dev_handoff.component_browser.settings.connect_github")},u=_?.availableRepositories?.length&&_.availableRepositories.length>1,{directories:b,isLoading:f}=(0,j.v)({libraryKey:c,repositoryId:p?.id||""}),[v,x]=s.useState(!1);return(0,t.jsxs)(e$.mc,{...n(),className:"component_browser_settings_panel--container--bNvEu",style:{top:`${e.top+24+8}px`,left:`${e.left-320+24}px`,width:"320px"},children:[(0,t.jsx)("div",{className:"component_browser_settings_panel--title--I250A",children:(0,g.t)("dev_handoff.component_browser.settings.title")}),(0,t.jsxs)("div",{className:"component_browser_settings_panel--options--BisI-",children:[(0,t.jsxs)("div",{className:nb,children:[(0,t.jsxs)("div",{className:nf,children:[(0,t.jsx)("div",{className:nh,children:(0,t.jsx)(eX.f,{})}),_?.queryStatus===eY.H.LOADING?(0,t.jsx)("div",{className:nu,children:(0,t.jsx)(A.k,{size:"sm"})}):(0,t.jsx)("div",{className:nu,children:(0,t.jsx)("div",{children:h[_.status]})})]}),(0,t.jsxs)("div",{className:"component_browser_settings_panel--optionActions--kGJXl",children:[(0,t.jsx)(ny,{status:_.status}),(0,t.jsx)(nw,{onChangeRepo:()=>{d(M.e6.REPO_SELECTOR),o(!1)},onChangeGithubDirectories:()=>{d(M.e6.DIRECTORY_SELECTOR),o(!1),r("component_browser.clicked_change_directories",{location:"options_menu"})},status:_.status,hasMultipleAvailableRepositories:!!u})]})]}),(0,m.k)().dt_component_browser_inline_suggestions&&_?.queryStatus!==eY.H.LOADING&&_.status===y.w6.Connected&&p?.id&&(0,t.jsx)(t.Fragment,{children:f?(0,t.jsx)("div",{className:nb,children:(0,t.jsxs)("div",{className:nf,children:[(0,t.jsx)("div",{className:nh,children:(0,t.jsx)(A.k,{size:"sm"})}),(0,t.jsx)("div",{className:nu,children:(0,t.jsx)("span",{className:"component_browser_settings_panel--loadingText---ucZu",children:(0,g.t)("dev_handoff.component_browser.settings.loading_directories")})})]})}):b.length>0?(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"component_browser_settings_panel--directoriesList--QPnWw",children:[(v?b:b.slice(0,2)).map((e,n)=>(0,t.jsxs)("div",{className:nv,children:[(0,t.jsx)("div",{className:`${nh} ${ng}`,children:(0,t.jsx)(ez.e,{})}),(0,t.jsx)("div",{className:nx,"data-tooltip":e,"data-tooltip-type":I.Ib.TEXT,children:e})]},n)),b.length>2&&!v&&(0,t.jsxs)("button",{className:nv,onClick:()=>x(!0),children:[(0,t.jsx)("div",{className:`${nh} ${ng}`,children:(0,t.jsx)(eG.f,{})}),(0,t.jsx)("div",{className:nx,children:(0,g.t)("dev_handoff.component_browser.settings.see_more_directories",{count:b.length-2})})]})]})}):null}),a&&(0,t.jsxs)("div",{className:nb,children:[(0,t.jsxs)("div",{className:nf,children:[(0,t.jsx)("div",{className:nh,children:(0,t.jsx)(eV.oW,{src:l,alt:(0,g.t)("dev_handoff.component_browser_onboarding.connected_projects_icon"),className:"component_browser_settings_panel--cardImage--YKour"})}),(0,t.jsx)("div",{className:nu,children:(0,g.t)("dev_handoff.component_browser.settings.connect_running_app")})]}),(0,t.jsx)("div",{children:(0,t.jsx)(nj,{})})]}),(0,t.jsx)("div",{className:"component_browser_settings_panel--footer--2OuKN",children:(0,g.tx)("dev_handoff.component_browser.settings.footer_message",{learnMore:(0,t.jsx)(eU.N,{href:"https://docs.google.com/document/d/1IsJTLpqR1rRQfphfbotvWoYbtoaZExKpggeANRFmRI8/edit?tab=t.0",newTab:!0,"aria-label":(0,g.t)("dev_handoff.component_browser.settings.footer_message_link"),children:(0,g.t)("dev_handoff.component_browser.settings.footer_message_link")})})})]})]})}function nC({libraryKey:e}){let n=s.useRef(null),[o,c]=s.useState(!1),{getTriggerProps:i,getContainerProps:r}=e$.fP({isOpen:o,onOpenChange:c,type:"menu",softDismiss:!0});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(O.d,{...i(),"aria-label":(0,g.t)("dev_handoff.component_browser.settings"),htmlAttributes:{"data-tooltip":(0,g.t)("dev_handoff.codebase_suggestions.open_settings"),"data-tooltip-type":I.Ib.TEXT},"data-onboarding-key":D.k1.Step3,"aria-expanded":o,ref:n,children:(0,t.jsx)(eJ.I,{})}),(0,t.jsx)(nN,{getContainerProps:r,onOpenChange:c,position:n.current?.getBoundingClientRect()??{top:0,left:0},libraryKey:e})]})}var nk=o(693700),nS=o(928537);let nI="component_browser_library_view--detail--suoco",nT="component_browser_library_view--componentsListLoadingOrError--JChCC";function nL({isDetailViewOpen:e,searchQuery:n,setSearchQuery:o,dropdownFilter:s,setDropdownFilter:c,componentCounts:i,sortBy:r,setSortBy:a}){return(0,t.jsx)("div",{className:u()("component_browser_library_view--componentsListFilters--M4se4",{[nI]:e}),children:(0,t.jsxs)("div",{className:u()("component_browser_library_view--componentsListFiltersInner--t95XT",{[nI]:e}),children:[(0,t.jsx)(nM,{isDetailViewOpen:e,value:n,onChange:o}),!e&&(0,t.jsxs)("div",{className:u()("component_browser_library_view--componentsListFiltersRight--d-PGj",{[nI]:e}),children:[(0,t.jsx)(w.z,{componentCounts:i,dropdownFilter:s,setDropdownFilter:c}),(0,t.jsx)(T,{currentSort:r,onSortChange:a})]})]})})}function nR({location:e,isDetailViewOpen:n,isIconsFlow:o,libraryKey:s,connectedComponents:l,onDeleteMapping:d,exitComponentBrowser:_,showSuggestionsDebug:p,setShowSuggestionsDebug:h,entrypoint:b}){return(0,t.jsxs)("div",{className:u()("component_browser_library_view--header--pZiav",n&&nI),children:[(0,t.jsxs)("div",{className:"component_browser_library_view--headerLeft--coXBP",children:[(0,t.jsx)("h1",{className:"component_browser_library_view--headerText--jnhLj",children:o?(0,g.t)("dev_handoff.component_browser.map_icons_to_code_title"):(0,g.t)("dev_handoff.component_browser.title")}),(0,t.jsx)(c.E,{variant:"defaultOutline",children:(0,g.t)("dev_handoff.component_browser.alpha")})]}),(0,t.jsxs)("div",{className:"component_browser_library_view--headerRight--iwCrG",children:[(0,m.k)().dt_component_browser_suggestions_debug&&(0,t.jsxs)(i.$n,{onClick:()=>{h(!p)},children:[p?"Hide":"Show"," Suggestions Debug"]}),(0,t.jsx)(nC,{libraryKey:s}),o&&(0,t.jsx)(em,{connectedComponents:l,onDeleteMapping:d,entrypoint:b}),"file"===e&&(0,t.jsx)(r.K,{"aria-label":(0,g.t)("dev_handoff.component_browser.close_component_browser"),onClick:_,children:(0,t.jsx)(a.L,{})})]})]})}function nE(e){let n=e.componentKey,o=(0,_.l)(e.libraryKey),c=(0,R.bh)(),i=nD(o),r=(0,p.md)(x.a),a=(0,L.xV)(),l=(0,L.kZ)(),h=(0,L.Bt)(),b=(0,m.k)().dt_component_browser_icons_flow&&"icons"===r,[v,w]=(0,s.useState)(new Set),C=(0,y.OG)(o),k=C?.selectedRepositories[0]?.id,{directories:S,hasLoaded:I}=(0,j.v)({libraryKey:o,repositoryId:k||""},{enabled:!!o&&!!k}),{inputRefs:T,status:E,displayedComponent:O,displayedComponentIndex:P,onDisplayedComponentChanged:A,onFileChanged:F,onComponentChanged:K,onValueChange:q,onConfirmConnection:B,onConfirmSuggestion:W,onMoreActionsMenuItemClick:$,filteredComponents:U,searchQuery:z,setSearchQuery:G,dropdownFilter:J,setDropdownFilter:Q,sortBy:H,setSortBy:Y,onConnectMapping:V,onDeleteMapping:X,onIgnoreMapping:Z,onDisplayNextComponent:ee,onDisplayPreviousComponent:eo,getIndexOfComponent:et,connectedComponents:es,notConnectedComponents:ec,ignoredComponents:ei,suggestionsAvailableComponents:er,componentCounts:ea,suggestions:el,onBulkConfirmSuggestions:ed,onActiveRowChange:e_,activeRowKey:em,searchSessionId:eu,isLoadingSuggestions:eb}=(0,en.dx)({libraryKey:o,componentKey:n,defaultFilter:e.defaultFilter,entrypoint:e.entrypoint}),ef="loading"===i||"loading"===E,ev=(0,s.useCallback)(e=>{if(e===D.qd.OpenDialog){if(U.length>0&&!O){let e=U[0];e&&A(e)}}else e===D.qd.CloseDialog&&A(null)},[U,O,A]),[eg,ex]=(0,f.Vc)("component_browser_show_suggestions_debug",!0),ew=(0,s.useMemo)(()=>!!O&&!0===i,[O,i]),ej=(0,s.useMemo)(()=>ew?["design"]:"suggestionsAvailable"===J?["checkbox",...nS.x]:nS.x,[J,ew]);return(0,t.jsxs)(d.J,{children:[(0,t.jsx)(D.Mj,{canShowOnboarding:!ef,onOnboardingSequenceAction:ev}),(0,t.jsxs)("div",{className:"component_browser_library_view--library--PmYvJ",children:[(0,t.jsx)(nR,{connectedComponents:es,entrypoint:e.entrypoint,exitComponentBrowser:c,isDetailViewOpen:ew,isIconsFlow:b??!1,libraryKey:o,location:e.location,onDeleteMapping:X,setShowSuggestionsDebug:ex,showSuggestionsDebug:eg}),(0,t.jsxs)("div",{className:"component_browser_library_view--container--sxcXn",children:[(0,t.jsxs)("div",{className:u()("component_browser_library_view--containerLeft--tMnWN",{[nI]:ew}),children:[b&&i&&(0,t.jsx)(ep,{connectedComponents:es,entrypoint:e.entrypoint,getIndexOfComponent:et,ignoredComponents:ei,libraryKey:o,notConnectedComponents:ec,onConnectMapping:V,onDeleteMapping:X,onIgnoreMapping:Z}),(0,t.jsxs)("div",{className:"component_browser_library_view--contentContainer--EKiHF",children:[(0,t.jsx)("div",{className:"component_browser_library_view--componentsToolbarAndList--o2Dlh",children:ef||i?"errors"===E?(0,t.jsx)("div",{className:nT,children:(0,g.t)("dev_handoff.component_browser.error_loading")}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(nL,{isDetailViewOpen:ew,searchQuery:z,setSearchQuery:G,dropdownFilter:J,setDropdownFilter:Q,componentCounts:ea,sortBy:H,setSortBy:Y}),(0,t.jsx)(nk.gP,{activeRowKey:em,bulkSuggestions:el,columns:ej,data:U,dropdownFilter:J,entrypoint:e.entrypoint,hasConnections:es.length>0||ei.length>0,inputRefs:T,isLoading:ef,isLoadingSuggestions:eb,isShowingSideSheet:ew,libraryKey:o,location:"list_view",onActiveRowChange:e_,onBulkConfirmSuggestions:ed,onComponentChanged:K,onConfirmConnection:B,onConfirmSuggestion:W,onFileChanged:F,onMoreActionsMenuItemClick:$,onRowSelectionChange:"suggestionsAvailable"===J?w:void 0,onSelectComponent:A,onValueChange:q,searchQuery:z,searchSessionId:eu,selectedComponent:O?.component??null,selectedRows:"suggestionsAvailable"===J?v:void 0,showExpandChevron:!0,showSuggestionsDebug:eg})]}):(0,t.jsx)("div",{className:nT,children:(0,g.t)("dev_handoff.component_browser.no_permission")})}),!ew&&(0,t.jsx)("div",{className:"component_browser_library_view--analysisCard--P-fU3",children:(0,t.jsx)(eB,{connectedComponents:es,directoriesHasLoaded:I,ignoredComponents:ei,libraryKey:o,notConnectedComponents:ec,onChooseDirectories:()=>{h(M.e6.DIRECTORY_SELECTOR)},onViewSuggestions:()=>Q("suggestionsAvailable"),repositoryDirectories:S,suggestionsAvailableComponents:er})})]})]}),ew&&O&&(0,t.jsx)("div",{className:"component_browser_library_view--containerRight--zBqnJ",children:(0,t.jsx)(eh.o,{data:O,entrypoint:e.entrypoint,inputRefs:T,isLoadingSuggestions:eb,onActiveRowChange:e_,onClose:()=>A(null),onComponentChanged:K,onConfirmConnection:B,onConfirmSuggestion:W,onDeleteMapping:X,onFileChanged:F,onIgnoreMapping:Z,onRequestNextComponent:ee,onRequestPreviousComponent:eo,onValueChange:q,repositoryId:k,searchSessionId:eu,sourceIndex:P})})]})]}),a&&o&&(0,t.jsx)(N.A,{libraryKey:o,onClose:()=>{h(M.e6.NONE)},onBack:()=>{h(M.e6.NONE)},isDirectorySelection:l===M.e6.DIRECTORY_SELECTOR})]})}function nM({value:e,onChange:n,isDetailViewOpen:o}){return(0,t.jsxs)("div",{className:u()("component_browser_library_view--searchBar--bauvr",{[nI]:o}),children:[(0,t.jsx)(l.h,{}),(0,t.jsx)(v.L,{placeholder:(0,g.t)("dev_handoff.component_browser.search_placeholder"),value:e,onChange:e=>{n(e.currentTarget.value)},className:"component_browser_library_view--searchInput--tzNk- text--fontPos11--2LvXf text--_fontBase--QdLsd",spellCheck:!1}),!!e&&(0,t.jsx)("div",{children:(0,t.jsx)(r.K,{onClick:()=>n(""),"aria-label":(0,g.t)("dev_handoff.component_browser.clear_search"),htmlAttributes:{"data-tooltip":(0,g.t)("dev_handoff.component_browser.clear_search"),"data-tooltip-type":I.Ib.TEXT},children:(0,t.jsx)(a.L,{})})})]})}function nD(e){let n=(0,b.Rs)((0,E.iAs)({libraryKey:e??""}),{enabled:!!e});return!!e&&"errors"!==n.status&&("loading"===n.status?"loading":!!n.data?.libraryKeyToFile?.fileCanAccess)}},693700:(e,n,o)=>{o.d(n,{gP:()=>W,uI:()=>q});var t=o(486106),s=o(7378),c=o(909715),i=o(438674),r=o(89370),a=o(964520),l=o(601108),d=o(27355),_=o(536384),m=o.n(_),p=o(99656),h=o(675859),u=o(303541),b=o(303587),f=o(428971),v=o(514228),g=o(302958);let x="component-browser-bulk-actions";function w({selectedCount:e,onBulkConnectComponents:n,onBulkIgnoreComponents:o,onDismiss:t}){let c=(0,v.wA)();return(0,s.useEffect)(()=>{if(0===e){c(g.F.dequeue({matchType:x}));return}c(g.F.enqueue({type:x,message:(0,u.t)("dev_handoff.component_browser.bulk_mapping.selected_components_bell.description",{count:e}),button:{primary:{text:(0,u.t)("dev_handoff.component_browser.bulk_mapping.selected_components_bell.action_connect"),action:()=>(n(),!0)},secondary:{text:(0,u.t)("dev_handoff.component_browser.bulk_mapping.selected_components_bell.action_ignore"),action:()=>(o(),!0)}},onDismiss:()=>{t?.()},timeoutOverride:1/0}))},[e,n,o,t,c]),null}var j=o(358099),y=o(286262),N=o(217163),C=o(506188),k=o(858013),S=o(807901),I=o(430335);function T({component:e,isLoading:n}){let o=(0,S.sD)(),c=(0,S.P8)(),i=e.code_connect_info.v1.state,r=(0,s.useMemo)(()=>{switch(i){case"not_connected":let e=c.notConnected;return(0,t.jsx)(e,{"data-tooltip":o.notConnected,"data-tooltip-type":"text"});case"connected":let n=c.connected;return(0,t.jsx)(n,{"data-tooltip":o.connected,"data-tooltip-type":"text",style:{"--color-icon":"var(--color-icon-success)"}});case"ignored":let s=c.ignored;return(0,t.jsx)(s,{"data-tooltip":o.ignored,"data-tooltip-type":"text",style:{"--color-icon":"var(--color-icon-warning)"}})}},[i,o,c]);return n?(0,t.jsx)("span",{className:I.i7,children:(0,t.jsx)(k.kt,{})}):(0,t.jsx)("span",{className:I.i7,children:r})}var L=o(162641);function R({width:e=102,height:n=58,spacing:o="spacious"}){let s=Math.ceil((window.innerHeight-200)/49);return(0,t.jsx)("div",{className:m()(I.yO,{[I.oE]:"compact"===o}),children:Array.from({length:s}).map((o,s)=>(0,t.jsxs)("div",{className:I.yS,children:[(0,t.jsx)(L.Wi,{style:{width:e,height:n,borderRadius:4},animationType:L.JR.SHIMMER}),(0,t.jsx)(L.Wi,{style:{width:200},animationType:L.JR.SHIMMER}),(0,t.jsx)(L.Wi,{style:{flex:1},animationType:L.JR.SHIMMER}),(0,t.jsx)(L.Wi,{style:{width:120},animationType:L.JR.SHIMMER})]},s))})}var E=o(860955),M=o(443068),D=o(125993),O=o(946806),P=o(928537);function A({data:e,isConnected:n,isIgnored:o,isComponentBrowserType:c,onMenuItemClick:i,showOpenInSidebar:r=!0,onPrepareForOpen:a,onCloseMenu:l}){let{manager:d,getTriggerProps:_}=E.b(),m=(0,s.useCallback)(()=>{a?.(e.component.node_id)},[a,e.component.node_id]);(0,s.useEffect)(()=>{d.isOpen||l?.()},[d.isOpen,l]);let p={label:(0,u.t)("dev_handoff.component_browser.open_in_sidebar"),onClick:()=>i({event:P.d.OpenInSidebar,row:e})},h=[[{label:(0,u.t)("dev_handoff.component_browser.no_code_equivalent_menu"),onClick:()=>i({event:P.d.Ignore,row:e}),disabled:!c}]];r&&h.push([p]);let b=[[{label:(0,u.t)("dev_handoff.component_browser.disconnect_menu"),onClick:()=>i({event:P.d.Disconnect,row:e}),disabled:!c}]];r&&b.push([p]);let f=[[{label:(0,u.t)("dev_handoff.component_browser.has_code_equivalent"),onClick:()=>i({event:P.d.HasCodeEquivalent,row:e})}]];r&&f.push([p]);let v=[];if(0===(v=n?b:o?f:h).length)return null;let g=_({onClick:m,onMouseDown:m});return(0,t.jsxs)(E.bL,{manager:d,children:[(0,t.jsx)(M.K,{...g,"aria-label":(0,u.t)("dev_handoff.component_browser.more_actions"),children:(0,t.jsx)(D.J,{})}),(0,t.jsxs)(E.mc,{children:[v.map((e,n)=>(0,t.jsx)(E.YJ,{children:e.map(e=>(0,t.jsx)(E.q7,{disabled:e.disabled,onClick:e.onClick,children:e.label},e.label))},n)),!c&&(0,t.jsxs)("div",{className:"component_browser_more_actions_menu--info--4QHeV",children:[(0,t.jsx)(O.b,{}),(0,t.jsx)("div",{className:"component_browser_more_actions_menu--infoText--4rpGc",children:(0,u.t)("dev_handoff.component_browser.code_connect_cli_only_message")})]})]})]})}var F=o(36596);function K({suggestions:e}){return(0,t.jsxs)("table",{className:"suggestions_debug--suggestionsDebugTable--RcFBw",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Index"}),(0,t.jsx)("th",{children:"Filepath"}),(0,t.jsx)("th",{children:"Name"}),(0,t.jsx)("th",{children:"Score"}),(0,t.jsx)("th",{children:"Confidence"})]})}),(0,t.jsx)("tbody",{children:0===e.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:5,style:{textAlign:"center"},children:"(No suggestions)"})}):e.map((e,n)=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:n}),(0,t.jsx)("td",{children:e.src_path}),(0,t.jsx)("td",{children:e.name}),(0,t.jsx)("td",{children:e.score.toFixed(3)}),(0,t.jsx)("td",{children:e.confidence_level})]},e.codebase_component_id))})]})}function q({spacing:e="spacious",isFirstRow:n,isRowHovered:o,item:c,component:i,suggestions:r,isLoadingSuggestions:a,libraryKey:d,onComponentChanged:_,onConfirmConnection:p,onConfirmSuggestion:h,onFileChanged:b,onValueChange:f,sourceIndex:v,inputRefs:g,currentRowIndex:x,location:w,entrypoint:j,onActiveRowChange:y,isRowActive:N,showSuggestionsDebug:C,searchSessionId:k}){let[S,T]=(0,s.useState)(!1),L=i?.code_connect_info.v1.state==="ignored",R="figmadoc"===i.code_connect_info.v1.type,E="connected"===i.code_connect_info.v1.state,M=(0,l.k)().dt_component_browser_bulk_mapping&&!E&&!L&&r&&r.length>0&&!S,D=(0,s.useMemo)(()=>{if(M){let e=r[0],n=[e.src_path];return e.name&&n.push(e.name),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(F.SN,{items:n,isSuggestion:!0,onClick:e=>{T(!0),y(c.component.node_id),e.stopPropagation()}}),(0,t.jsx)(F.pK,{onConfirmConnection:n=>{h({filepath:e.src_path,componentName:e.name,item:c,currentRowIndex:x,sourceIndex:v}),n.stopPropagation()},showButton:o,children:(0,u.t)("dev_handoff.component_browser.confirm")})]})}if(R){let e=[];return c.selectedFile&&e.push(c.selectedFile.title),c.selectedComponent&&e.push(c.selectedComponent.title),(0,t.jsx)(F.SN,{items:e})}if(L)return"--";let e=r?.[0];return(0,t.jsx)(F.Q3,{autosave:!1,currentRowIndex:x,entrypoint:j,inputRefs:g,isFirstRow:n,isLoading:c.isLoading??!1,isLoadingSuggestions:a,isRowActive:N,isRowHovered:o,item:c,libraryKey:d,location:w,onActiveRowChange:y,onBlur:e?()=>T(!1):void 0,onComponentChanged:_,onConfirmConnection:p,onFileChanged:b,onValueChange:f,readonly:c?.component?.code_connect_info?.v1?.state==="connected",searchSessionId:k,selectedComponent:c.selectedComponent,selectedFile:c.selectedFile,sourceIndex:v,suggestions:r,value:c.inputValue??""})},[M,R,n,L,r,x,j,g,c,a,N,o,d,w,y,_,p,b,f,k,v,h]),O=(0,l.k)().dt_component_browser_suggestions_debug&&C;return(0,t.jsxs)("td",{className:m()(I.LU,I.jU,{[I.RA]:O,[I.oE]:"compact"===e}),onClick:e=>{L||R||M||e.stopPropagation()},children:[D,O&&(0,t.jsx)(K,{suggestions:r})]})}function B({item:e,currentRowIndex:n,onSelectComponent:o,onMoreActionsMenuItemClick:l,columns:d,spacing:_,onlyShowActionsOnHover:p,openMenuRowId:u,onPrepareForOpen:b,onConfirmConnection:v,onConfirmSuggestion:g,suggestions:x,isLoadingSuggestions:w,onCloseMenu:y,selectedComponent:k,isIconsFlow:S,inputRefs:L,onComponentChanged:R,onFileChanged:E,onValueChange:M,showExpandChevron:D,showLibraryNames:O,location:P,entrypoint:F,onActiveRowChange:K,isRowActive:B,selectedRows:W,onRowSelectionChange:$,showSuggestionsDebug:U,searchSessionId:z}){let[G,J]=(0,s.useState)(!1),Q=e.sourceIndex,H=e.component,Y="ignored"===H.code_connect_info.v1.state,V="connected"===H.code_connect_info.v1.state,{isSelected:X}=(e=>{let n=null;if("connected"===e.code_connect_info.v1.state)try{let o=JSON.parse(e.code_connect_info.v1.figmadoc??"");n=Array.isArray(o)?o[0]:o}catch(e){}let o=k&&(0,j.I)(e)===(0,j.I)(k),t=null,s=null;if("connected"===e.code_connect_info.v1.state&&n){let e=n.source;e&&(t=e.substring(e.lastIndexOf("/")+1)),s=n.component}return{isSelected:o,fileName:t,componentName:s}})(H),Z=!H.code_connect_info.v1.type||"component_browser"===H.code_connect_info.v1.type,ee=0===n,en=(0,C.B)(H.library_key).unwrapOr(null),eo=(0,N.b)({libraryKey:H.library_key,nodeId:H.node_id,isDevHandoff:!0}),et=en&&O,es=eo.data?.link,ec=!!W&&W.has(H.node_id),ei=(0,s.useCallback)(e=>{if(!$||!W)return;let n=new Set(W);e?n.add(H.node_id):n.delete(H.node_id),$(n)},[H.node_id,W,$]);return(0,t.jsxs)("tr",{onMouseEnter:()=>J(!0),onMouseLeave:()=>J(!1),className:m()(I.T$,{[I.sp]:X,"js-is-selected":X}),onClick:()=>{o(e),K(H.node_id)},children:[d.includes("checkbox")&&(0,t.jsx)("td",{className:m()(I.LU,I.of),onClick:e=>e.stopPropagation(),children:(0,t.jsx)(c.W,{checked:ec,muted:!0,onChange:e=>ei(e),"aria-label":`Select ${H.name}`,id:e.component.node_id})}),d.includes("design")&&(0,t.jsxs)("td",{className:m()(I.LU,I.f_),children:[H.thumbnail_url&&(0,t.jsx)("div",{className:m()(I.v6,{[I.Kk]:S}),children:(0,t.jsx)(h.oW,{"data-onboarding-key":ee?f.k1.Step1:void 0,className:I.I$,src:H.thumbnail_url,alt:H.name})}),(0,t.jsxs)("div",{className:I.V3,children:[(0,t.jsx)("div",{className:I.TQ,children:H.name}),et&&es&&(0,t.jsx)(i.N,{newTab:!0,href:es,children:(0,t.jsx)("div",{className:I.b0,children:en})})]})]}),d.includes("decorator")&&(0,t.jsx)("td",{className:m()(I.LU,I.IO),children:(0,t.jsx)(r.o,{className:I.fI})}),d.includes("file")&&(0,t.jsx)(q,{component:H,currentRowIndex:n,entrypoint:F,inputRefs:L,isFirstRow:ee,isLoadingSuggestions:w,isRowActive:B,isRowHovered:G,item:e,libraryKey:H.library_key,location:P,onActiveRowChange:K,onComponentChanged:R,onConfirmConnection:v,onConfirmSuggestion:g,onFileChanged:E,onValueChange:M,searchSessionId:z,showSuggestionsDebug:U,sourceIndex:Q,suggestions:x}),d.includes("variants")&&(0,t.jsx)("td",{className:m()(I.LU,I.$M),children:"variants"in H?(0,t.jsx)("div",{className:I.WD,children:H.variants.length}):"--"}),d.includes("status")&&(0,t.jsx)("td",{className:m()(I.LU,I.fo),children:(0,t.jsx)(T,{component:H,isLoading:e.isLoading??!1})}),d.includes("actions")&&(0,t.jsxs)("td",{className:m()(I.LU,I.AT,{[I.YS]:p,[I.MO]:u===H.node_id}),children:[(0,t.jsx)(A,{data:e,isConnected:V,isIgnored:Y,isComponentBrowserType:Z,onMenuItemClick:l,showOpenInSidebar:"spacious"===_,onPrepareForOpen:b,onCloseMenu:y}),D&&(0,t.jsx)("div",{className:I.K4,children:(0,t.jsx)(a.a,{})})]})]},H.node_id)}function W({libraryKey:e,data:n,selectedComponent:o,onSelectComponent:i,onFileChanged:r,onComponentChanged:a,onConfirmConnection:_,onConfirmSuggestion:h,onValueChange:f,isLoading:v,isLoadingSuggestions:g,onMoreActionsMenuItemClick:x,inputRefs:N,searchQuery:C,columns:k,spacing:S="spacious",showExpandChevron:T=!1,showTableHeader:L=!0,showLibraryNames:E=!1,onlyShowActionsOnHover:M=!1,bulkSuggestions:D,location:O,entrypoint:P,selectedRows:A,onRowSelectionChange:F,onBulkConfirmSuggestions:K,searchSessionId:q,showSuggestionsDebug:W,isShowingSideSheet:$,onActiveRowChange:U,activeRowKey:z,hasConnections:G,dropdownFilter:J}){let{Sprig:Q}=(0,p.A)();(0,s.useEffect)(()=>{v||Q("track",y.s)},[v,Q]);let H=0===n.length,Y=(0,s.useRef)(null),V=(0,d.md)(b.a),X=(0,l.k)().dt_component_browser_icons_flow&&"icons"===V,[Z,ee]=(0,s.useState)(null),en=o?(0,j.I)(o):null;(0,s.useEffect)(()=>{en&&Y.current?.querySelector(".js-is-selected")?.scrollIntoView({block:"nearest"})},[en]);let eo=(0,s.useCallback)(e=>{ee(e)},[]),et=(0,s.useCallback)(()=>{ee(null)},[]);return v?(0,t.jsx)("div",{className:I.WX,children:(0,t.jsx)(R,{spacing:S})}):H?G&&"notConnected"===J?(0,t.jsxs)("div",{className:I.Gh,children:[(0,t.jsx)("div",{className:I.t5,children:(0,u.t)("dev_handoff.component_browser.all_connected")}),(0,t.jsx)("div",{className:I.OC,children:(0,u.t)("dev_handoff.component_browser.all_connected_subtext")})]}):(0,t.jsx)("div",{className:I.dg,children:(0,t.jsx)("span",{children:C.length>0?(0,u.t)("dev_handoff.component_browser.no_components_search_result",{searchQuery:C}):(0,u.t)("dev_handoff.component_browser.no_results_found")})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{ref:Y,className:I.L3,children:(0,t.jsxs)("table",{className:m()(I.hP,{[I.YQ]:"spacious"===S,[I.oE]:"compact"===S}),children:[L&&(0,t.jsx)("thead",{className:m()(I.Gd,{[I.YQ]:"spacious"===S,[I.oE]:"compact"===S,[I.xw]:$}),children:(0,t.jsxs)("tr",{className:I.SR,children:[k.includes("checkbox")&&(0,t.jsx)("th",{className:m()(I.LU,I.of),children:(0,t.jsx)(c.W,{checked:!!A&&A.size>0&&A.size===n.length,mixed:!!A&&A.size>0&&A.size<n.length,muted:!0,onChange:e=>{F&&(e?F(new Set(n.map(e=>e.component.node_id))):F(new Set))},id:"select-all-checkbox"})}),k.includes("design")&&(0,t.jsx)("th",{className:m()(I.LU,I.f_),children:(0,t.jsx)("div",{children:(0,u.t)("dev_handoff.component_browser.design_component")})}),k.includes("decorator")&&(0,t.jsx)("th",{className:m()(I.LU,I.IO)}),k.includes("file")&&(0,t.jsx)("th",{className:m()(I.LU,I.jU,{[I.oE]:"compact"===S}),children:(0,t.jsx)("div",{children:(0,u.t)("dev_handoff.component_browser.code_file_column")})}),k.includes("variants")&&(0,t.jsx)("th",{className:m()(I.LU,I.$M),children:(0,t.jsx)("div",{children:(0,u.t)("dev_handoff.component_browser.variants")})}),k.includes("status")&&(0,t.jsx)("th",{className:m()(I.LU,I.fo),children:(0,t.jsx)("div",{children:(0,u.t)("dev_handoff.component_browser.status")})}),k.includes("actions")&&(0,t.jsx)("th",{className:m()(I.LU,I.AT)})]})}),(0,t.jsx)("tbody",{className:m()(I.dl,{[I.YQ]:"spacious"===S,[I.oE]:"compact"===S,[I.xw]:$}),children:n.map((n,s)=>{let c=D[n.assetKey]||[];return(0,t.jsx)(B,{columns:k,currentRowIndex:s,entrypoint:P,inputRefs:N,isIconsFlow:X??!1,isLoadingSuggestions:g,isRowActive:z===n.component.node_id,item:n,libraryKey:e,location:O,onActiveRowChange:U,onCloseMenu:et,onComponentChanged:a,onConfirmConnection:_,onConfirmSuggestion:h,onFileChanged:r,onMoreActionsMenuItemClick:x,onPrepareForOpen:eo,onRowSelectionChange:F,onSelectComponent:i,onValueChange:f,onlyShowActionsOnHover:M,openMenuRowId:Z,searchSessionId:q,selectedComponent:o,selectedRows:A,showExpandChevron:T,showLibraryNames:E,showSuggestionsDebug:W,spacing:S,suggestions:c},n.component.node_id)})})]})}),(0,t.jsx)(w,{selectedCount:(A??new Set).size,onBulkConnectComponents:()=>{(K??(()=>{}))({selectedComponents:n.filter(e=>(A??new Set).has(e.component.node_id)),bulkSuggestions:D,trackingProps:{location:O,source:"ai_codebase_suggestion",entrypoint:P,sessionId:crypto.randomUUID()}}),F?.(new Set)},onBulkIgnoreComponents:()=>{(K??(()=>{}))({selectedComponents:n.filter(e=>(A??new Set).has(e.component.node_id)),bulkSuggestions:D,trackingProps:{location:O,source:"ai_codebase_suggestion",entrypoint:P,sessionId:crypto.randomUUID()},ignore:!0}),F?.(new Set)},onDismiss:()=>{F?.(new Set)}})]})}},819008:(e,n,o)=>{o.d(n,{D:()=>t.DH});var t=o(508893)},481313:(e,n,o)=>{o.d(n,{f:()=>s});var t=o(486106);let s=(0,o(7378).memo)(function(e){return(0,t.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,t.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M12 16a1 1 0 1 1 0 2 1 1 0 0 1 0-2m0-5a1 1 0 1 1 0 2 1 1 0 0 1 0-2m1-4a1 1 0 1 0-2 0 1 1 0 0 0 2 0",clipRule:"evenodd"})})})}}]);

//# debugId=d9f36750-3043-5554-8e03-e49f343c97c9

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/0657ff3f8352b910fdbcabee226228c03d467eb6/6268-47c4c90fde790500.min.js.map