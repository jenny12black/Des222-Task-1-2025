"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="2a6202c4-14f4-5772-a347-557edc62694a")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[9831],{266717:(e,t,r)=>{r.d(t,{e:()=>n});let n="https://go/figmascope-docs"},302304:(e,t,r)=>{r.d(t,{rf:()=>l,tV:()=>a,zG:()=>i});var n=r(486106),s=r(941192);function i(){return(0,n.jsx)(a,{children:(0,n.jsx)("p",{children:"Reading file..."})})}function l({error:e}){let t="Oops! Something went wrong";return"string"==typeof e?t=e:e instanceof Error&&(t=e.message,console.error(e)),(0,n.jsx)(a,{children:(0,n.jsx)("p",{style:s.sx.colorTextOndanger.colorBgDanger.p16.font20.maxW400.$,children:t})})}function a({children:e}){return(0,n.jsx)("div",{style:s.sx.fillPositionedContainer.flex.itemsCenter.justifyCenter.flexColumn.lh1_5Lines.font16.$,children:e})}},379831:(e,t,r)=>{r.d(t,{J:()=>e6});var n=r(486106),s=r(7378),i=r(97346),l=r(27355),a=r(449184),o=r(745972),c=r(63728),d=r(520829),u=r(941192),h=r(251509),p=r(545842),f=r(851625),x=r(910117),g=r(386952),m=r(694285),j=r(810750),b=(e=>(e[e.Fetched=0]="Fetched",e[e.Fetching=1]="Fetching",e[e.NeverFetched=2]="NeverFetched",e))(b||{});let y=(0,l.eU)(e=>{let t=e(g.OC);return"fullscreen"===t.view?`/api/file/scenegraph_validations/${t.fileKey}`:(0,m.E)(t)&&t.urlParams?.type==="server_file"?`/api/admin/scenegraph_validations/${t.urlParams.key}`:null}),v=(0,l.eU)(e=>null!=e(y)),C=(()=>{let e=(0,l.eU)((0,f.Ok)());return(0,l.eU)(t=>t(e),async(t,r)=>{let n;if(t(e).status===d.r.LOADING)return;let s=t(y);if(s){r(e,(0,f.ux)());try{n=await w(s)}catch(t){r(e,(0,f.uW)(t));return}r(e,(0,f.NY)(n))}})})();async function w(e){let t=await (0,x.GD)(e),r=new j._;for(let e of t.data.meta.data.results.violations)if("always-fail-for-testing"!==e.name)for(let t of e.instances)r.add(t.guid,t.message);return r}var S=r(235262),N=r(104795),I=r(302304),k=r(648136),E=r(891888),D=r(656233),T=r(763686),A=r(19536),F=r(73823),P=r.n(F),$=r(589278),_=r(830372),O=r(721983);function U(e,t,r){return[...e.getObject(r)?.mapDescendants(e=>e.id)??[],...t?.getObject(r)?.mapDescendants(e=>e.id)??[]]}let X=(0,l.FZ)((0,l.eU)({}),(e,t,r)=>{let n=r(p.Cc),s=r(p.lX);switch(t.type){case"toggleExpanded":return(0,O.X9)(e,t.objectId,t.toggleSubtree?U(n,s,t.objectId):[]);case"expandAncestors":return(0,O.nE)(e,function(e,t,r){return[...e.getObject(r)?.mapAncestors(e=>e.id)??[],...t?.getObject(r)?.mapAncestors(e=>e.id)??[]]}(n,s,t.objectId),!0);case"expandDescendants":return(0,O.nE)(e,[t.objectId,...U(n,s,t.objectId)],!0);case"collapseDescendants":return(0,O.IO)(e,[t.objectId,...U(n,s,t.objectId)])}});var z=r(915765),B=r(95419),L=r(314591);let R=(0,l.eU)({status:"initial"}),Y=(0,l.eU)(0),M=(0,l.eU)(!1),H=(0,l.eU)(e=>{if(e(M)){let t=e(Y);return`Indexing search results (this may take a moment)... [${t}/???]`}return null}),V=(0,N.Sv)("searchMode",N.Y6.Search),W=(0,l.eU)(e=>{let t=e(R),r=e(p.Cc),n=e(S.Sd);return"initial"===t.status?n.map(e=>r.getObject(e)).filter(B.Vq).map(e=>({object:e,matches:[]})).reverse():"results"in t&&t.results.length>0?t.results:null}),G=(0,l.eU)(e=>{let t=e(R);if("searching"===t.status&&0===t.results.length){let t=["Searching..."],r=e(H);return r&&t.push(r),t}if("success"===t.status&&0===t.results.length){let t=["No results found."],r=e(p.Cc);return r instanceof L.G2&&t.push("Some content may be unavailable because of incremental loading"),"hide"===r.sensitiveTextPolicy&&t.push("Searching text fields is limited beacuse text redaction has been applied."),t}return"error"===t.status?["Error searching:",String(t.error)]:null}),J=(0,l.eU)(e=>{if(e(V)!==N.Y6.Filter)return null;let t=e(R);return"results"in t?t.results.map(e=>e.object):null}),K=(0,l.eU)(e=>{if(e(V)!==N.Y6.Filter)return null;let t=e(G);return t?t.join(" "):null}),q=(0,N.Sv)("sortOrder",N.hX.Position),Z=(0,l.eU)(e=>{let t=[N.hX.Position,N.hX.Name,N.hX.NodeId];return e(p.Cc).rootObjects[0]?.displayProperties.memoryFraction!=null&&t.push(N.hX.Memory),t.sort(),t}),Q=(0,l.eU)(e=>{switch(e(q)){case N.hX.Position:return et;case N.hX.Name:return ee;case N.hX.Memory:return en;case N.hX.NodeId:return er}});function ee(e,t){return e.displayProperties.name.localeCompare(t.displayProperties.name)}function et(e,t){let[r,n]=es(e,t);if(r&&n){let e=r.parentIndex?.position,t=n.parentIndex?.position;if(null==e&&null==t)return 0;if(null==t)return 1;if(null==e)return -1;if(e<t)return -1;else if(e>t)return 1}return ee(e,t)}function er(e,t){let[r,n]=es(e,t);if(r&&n){let{sessionID:e,localID:t}=r.guid??{localID:-1,sessionID:-1},{sessionID:s,localID:i}=n.guid??{localID:-1,sessionID:-1};return e-s||t-i}return et(e,t)}function en(e,t){return(t.displayProperties.memoryFraction??0)-(e.displayProperties.memoryFraction??0)||et(e,t)}function es(e,t){return"nodeChange"in e&&"nodeChange"in t?[e.nodeChange,t.nodeChange]:[null,null]}var ei=r(154591),el=r(836986),ea=r(194956),eo=r(236327),ec=r(303541),ed=r(142894),eu=r(741991);let eh=eo.ms,ep=eo.c$,ef=eo.wv;function ex({contextMenuData:{objectId:e,position:t},onClose:r}){let[i,a]=s.useState(0),o=t.left,c=t.top+i>window.innerHeight?t.top-i:t.top,{canSelectInApp:d,selectInApp:f}=s.useContext(S.H$),x=s.useRef(null);(0,ea.ww)(x,r);let g=(0,l.md)(p.Cc).getObject(e),m=g instanceof eu.R?g:null,j=g instanceof ed.E?g:null,[b,y]=(0,l.fp)(h.Oz),v=(0,l.Xr)(X);if(null==g)return null;let C=e=>()=>{e(),r()},w=g.children.length>0,N=(()=>{if(d?.(g))return C(()=>f(g))})(),I=e=>C(()=>T.glU.triggerAction(e,{guid:g.id})),k=b?.object.id===g.id;return(0,n.jsx)(eh,{style:{...u.sx.fixed.$,left:o,top:c},dropdownRef:e=>{e&&a(e.clientHeight)},children:(0,n.jsxs)("div",{ref:x,children:[N&&(0,n.jsx)(ep,{onClick:N,children:"Jump to node"}),w&&(0,n.jsx)(ep,{onClick:C(()=>v({type:"expandDescendants",objectId:e})),children:"Expand descendants"}),w&&(0,n.jsx)(ep,{onClick:C(()=>v({type:"collapseDescendants",objectId:e})),children:"Collapse descendants"}),(N||w)&&(0,n.jsx)(ef,{}),k&&(0,n.jsx)(ep,{onClick:C(()=>y({type:"clear"})),children:"Stop diffing against this node"}),(!k||b?.type!==h.Lp.Layer)&&(0,n.jsx)(ep,{onClick:C(()=>y({type:"start",diffType:h.Lp.Layer,id:e})),children:"Layer diff against this node"}),(!k||b?.type!==h.Lp.Tree)&&(0,n.jsx)(ep,{onClick:C(()=>y({type:"start",diffType:h.Lp.Tree,id:e})),children:"Tree diff against this node"}),m&&(0,n.jsx)(ef,{}),m&&(0,n.jsx)(ep,{onClick:C(()=>{let e=JSON.stringify(m.nodeChange,null,2);navigator.clipboard.writeText(e)}),children:"Copy NodeChange JSON"}),j&&"DOCUMENT"!==j.type&&"CANVAS"!==j.type&&(0,n.jsx)(ep,{onClick:I("debug-print-as-test-code"),children:(0,ec.tx)("fullscreen_actions.debug-print-as-test-code")}),j&&"VECTOR"===j.type&&(0,n.jsx)(ep,{onClick:I("debug-print-vector-network-as-test-code"),children:(0,ec.tx)("fullscreen_actions.debug-print-vector-network-as-test-code")})]})})}var eg=r(27174);let em=s.memo(function({diffType:e,id:t,primaryId:r,secondaryId:i,leftBadges:l,indent:a,index:o,isExpanded:c,isLeaf:d,isSelected:u,isSelectedSecondary:h,memoryFraction:p,rightBadges:f,additionalBadges:x,name:g,style:m,select:j,toggle:b,showContextMenu:y}){let v=s.useCallback(e=>{e.preventDefault(),y({objectId:t,position:{left:e.clientX,top:e.clientY}})},[t,y]);return(0,n.jsxs)(eg.Z,{changeType:e,indent:a,isExpanded:c,isLeaf:d,isSelected:u,isSelectedSecondary:h,keyboardNavigationPath:[o],onContextMenu:v,onMouseEnter:()=>{T.Ez5&&T.Ez5.editorState().figmaScopeHighlightedNode.set(t)},onMouseLeave:()=>{T.Ez5&&T.Ez5.editorState().figmaScopeHighlightedNode.set("")},select:()=>j(t),style:m,toggleExpanded:e=>b(t,e),children:[(0,n.jsx)(ei.IV,{badges:l}),(0,n.jsx)(el.nK,{id:r}),i&&(0,n.jsx)(el.nK,{id:i,secondary:!0}),(0,n.jsx)("div",{title:g,className:$.s.ellipsis.noWrap.overflowHidden.$,children:g}),(0,n.jsx)(_.M,{}),(0,n.jsx)(ei.IV,{badges:f}),x&&(0,n.jsx)(ei.IV,{badges:x}),null!=p&&(0,n.jsxs)("span",{className:$.s.colorTextSecondary.$,title:"Node memory usage",children:[(100*p).toFixed(3),"%"]})]})});function ej({style:e,data:{displayedObjects:t,selectedId:r,selectedIds:s,...i},index:l}){let a=t[l],o=(0,A.zN)(e);return(0,n.jsx)(em,{...a,...i,isSelected:r===a.id,isSelectedSecondary:!!a&&s.includes(a.id),style:o,index:l})}let eb=[];function ey({appSelection:e}){let t=(0,l.md)(ev),[r,i]=(0,l.fp)(S.AJ),a=(0,A.k9)(()=>e?.guids??eb,[e?.guids]),[o,c]=s.useState(null),d=s.useRef(null);s.useEffect(()=>{let e=t.findIndex(e=>e.id===r);e>=0&&d.current?.scrollToItem(e,"smart")},[t,r]);let u=(0,l.Xr)(X);s.useEffect(()=>{u({type:"expandAncestors",objectId:r})},[u,r]);let h=s.useCallback((e,t)=>{u({type:"toggleExpanded",objectId:e,toggleSubtree:t})},[u]),p=(0,l.md)(K);return 0===t.length?(0,n.jsx)("div",{children:p??"Empty Scene"}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(k.A,{disableWidth:!0,children:({height:e})=>(0,n.jsx)(E.Y1,{itemSize:18,itemCount:t.length,height:e,ref:d,itemData:{displayedObjects:t,selectedId:r,selectedIds:a,select:i,toggle:h,showContextMenu:c},width:"100%",children:ej})}),o&&(0,n.jsx)(ex,{contextMenuData:o,onClose:()=>{c(null)}})]})}let ev=(0,l.eU)(e=>e(eC)??e(ew)),eC=(0,l.eU)(e=>{let t=e(J);if(!t)return null;let r=e(p.Cc);return t.map(e=>({...e.displayProperties,diffType:void 0,additionalBadges:r.getAdditionalBadges?.(e.id)??[],id:e.id,indent:0,isExpanded:!1,isLeaf:!0}))}),ew=(0,l.eU)(e=>{let t=e(p.Cc),r=t.rootObjects,n=e(h.sg),s=e(X),i=e(Q),l=(()=>{switch(n.type){case h.Lp.Tree:return[n.object];case h.Lp.Full:return n.resource.rootObjects;default:return[]}})(),a={resource:t,sortFn:i,expandedIds:s};return P()(r,e=>{if(!e)return[];if(0===l.length)return eS(e,0,a);let t=eI(e,l);return t?eN(e,t,0,a):function e(t,r,n,s){let i=t.id,l=t.children,a=0===l.length,o=!!s.expandedIds[i],c=!1,d=P()(l,t=>{let i=(()=>{let i=eI(t,r);if(i)return eN(t,i,n+1,s);let l=r.filter(e=>e.someAncestor(e=>e.id===t.id,{includeSelf:!0}));return l.length>0?e(t,l,n+1,s):eS(t,n+1,s)})();return c=c||i[0]?.diffType!=null,i}),u={...t.displayProperties,diffType:c?"CHILD_MODIFIED":void 0,additionalBadges:s.resource.getAdditionalBadges?.(i)??[],id:i,indent:n,isExpanded:o,isLeaf:a};return o?[u,...d]:[u]}(e,l,0,a)})});function eS(e,t,r){let n=e.id,s=e.children,i=0===s.length,l=!!r.expandedIds[n],a={...e.displayProperties,diffType:void 0,additionalBadges:r.resource.getAdditionalBadges?.(n)??[],id:n,indent:t,isExpanded:l,isLeaf:i};return l?[a,...P()(ek(s,r.sortFn),e=>eS(e,t+1,r))]:[a]}function eN(e,t,r,n){let s=e??t;if(!s)throw Error("Diffing two nothings");if(e&&t&&e.id!==t.id)throw Error("Diffing nodes with mismatched keys");let i=s.id,l=ek(e?.children??[],n.sortFn),a=ek(t?.children??[],n.sortFn),o=(0,D.TR)(l,a,e=>e.id),c=!1,d=P()(o,({left:e,right:t})=>{let s=eN(e,t,r+1,n);return c=c||s[0]?.diffType!=null,s}),u=(0,h.wc)(e,t,c),p=e?.displayProperties.name,f=t?.displayProperties.name,x=null!=p&&null!=f&&p!==f?`${p} <=> ${f}`:s.displayProperties.name,g=!!n.expandedIds[i],m={...s.displayProperties,diffType:u,additionalBadges:n.resource.getAdditionalBadges?.(i)??[],id:i,indent:r,isExpanded:g,isLeaf:0===o.length,name:x};return g?[m,...d]:[m]}function eI(e,t){return t.find(t=>t.id===e.id)}function ek(e,t){return e.slice().sort(t)}var eE=r(536384),eD=r.n(eE),eT=r(307199),eA=r(119475);function eF({searchRef:e}){let t=(0,l.Xr)(S.AJ),r=(0,l.md)(W),i=(0,l.md)(G),[a,o]=s.useState(!1),c=(0,l.md)(V)!==N.Y6.Filter&&a,d=s.useRef(null);(0,ea.ww)(d,()=>o(!1));let u=s.useCallback(e=>{o(!1),t(e.object.id)},[o,t]);return(0,n.jsxs)(eA.dP,{className:$.s.flex1.$,ref:d,allowVim:!0,children:[(0,n.jsx)(eP,{searchRef:e,setShowSearchResults:o}),c&&(r?(0,n.jsx)(e_,{searchResults:r,selectResult:u}):i?(0,n.jsx)(eO,{text:i}):null)]})}function eP({searchRef:e,setShowSearchResults:t}){let r=(0,l.md)(V),i=function(){let e=(0,l.md)(p.Cc),t=(0,l.Xr)(R),r=(0,l.Xr)(Y),n=(0,l.Xr)(M),i=s.useRef(0),a=s.useMemo(()=>(0,z.s)(s=>{let l=++i.current;n(!0);let a=new TaskController({priority:"user-visible"});scheduler.postTask(()=>n(!0),{signal:a.signal,delay:300}).catch(()=>{});let o=e.getObject(s);o&&t({status:"searching",results:[{object:o,matches:[{value:s,property:"id",isExact:!0}]}]}),e.getSearch(r).then(e=>e.searchWithText(s)).then(e=>{a.abort(),l===i.current&&t({status:"success",results:e})}).catch(e=>{console.error(e),a.abort(),l===i.current&&t({status:"error",error:e})})},200),[e,r,t,n]);return s.useCallback(e=>0===e.length?t({status:"initial"}):a(e),[a,t])}(),{setKeyboardNavigationElement:a}=(0,eA.M3)({path:[0,0],id:"input"});return(0,n.jsx)("input",{ref:t=>{a(t),e.current=t},type:"text",placeholder:r,className:"search_bar--searchBar--qnpUm",onChange:e=>i(e.target.value),onFocus:()=>t(!0)})}function e$({children:e}){return(0,n.jsx)("div",{className:$.s.absolute.zIndexModal.colorBg.b1.colorBorder.mt2.overflowAuto.$,style:{maxHeight:450,minWidth:500,boxShadow:"0px 2px 14px var(--color-shadow, rgba(0, 0, 0, 0.15))"},children:e})}function e_({searchResults:e,selectResult:t}){return(0,n.jsx)(e$,{children:e.map((e,r)=>(0,n.jsx)(eU,{result:e,index:r,onClick:()=>t(e)},e.object.id))})}function eO({text:e}){return(0,n.jsx)(e$,{children:(Array.isArray(e)?e:[e]).map((e,t)=>(0,n.jsx)("div",{className:$.s.colorBg.colorTextSecondary.px8.py4.$,children:e},t))})}function eU({result:e,index:t,onClick:r}){let{object:i,matches:l}=e,{displayProperties:a}=i,{setKeyboardNavigationElement:o,keyboardNavigationItem:c,isFauxFocused:d}=(0,eA.M3)({path:[1,t],id:i.id});return s.useEffect(()=>{c&&0===t&&c.fauxFocus()},[c,t]),(0,n.jsx)("button",{ref:o,className:eD()($.s.block.wFull.px4.py8.colorText.flex.itemsCenter.alignLeft.$,"search_bar--searchResult--0iOvc",d&&"search_bar--fauxFocus--BYHwu"),onClick:r,children:(0,n.jsxs)(_.Y,{spacing:4,children:[(0,n.jsx)(ei.IV,{badges:a.leftBadges}),(0,n.jsx)(el.nK,{id:i.displayProperties.primaryId}),(0,n.jsx)(eT.R,{className:$.s.overflowHidden.$,text:a.name}),(0,n.jsx)(_.M,{}),l.filter(({property:e})=>!["id","guid","name","type","phase"].includes(e)).map(({property:e,value:t},r)=>(0,n.jsxs)(_.Y,{spacing:4,width:"hug-contents",children:[(0,n.jsxs)("div",{children:[e,":"]}),(0,n.jsx)("div",{children:t})]},r))]})})}var eX=r(714743);function ez({children:e}){return(0,n.jsx)("div",{className:$.s.colorBorder.px8.py4.bb1.bSolid.$,children:(0,n.jsx)(_.Y,{children:e})})}function eB(e){let t={className:"toolbar_components--iconButton--1-XNe",children:(0,n.jsx)(eX.B,{svg:e.svg}),title:e.label,"aria-label":e.label};return"href"in e?(0,n.jsx)("a",{...t,href:e.href,target:"blank"}):(0,n.jsx)("button",{...t,onClick:e.onClick,disabled:e.disabled})}var eL=r(129503),eR=r(718668);function eY({searchRef:e}){let[t,r]=(0,l.fp)(S.jI),[i,o]=(0,l.fp)(S.JN),c=!!s.useContext(S.H$).selectInApp,[d,u]=(0,l.fp)(V),[h,p]=(0,l.fp)(S.bA),[f,x]=(0,l.fp)(q),g=(0,l.md)(Z);return(0,n.jsxs)(ez,{children:[(0,n.jsx)(eF,{searchRef:e}),(0,n.jsxs)("select",{name:"filter-or-search",title:"Determines whether the text box searches or filters",onChange:e=>{u(e.target.value)},defaultValue:d,children:[(0,n.jsx)("option",{value:N.Y6.Search,children:"Search"}),(0,n.jsx)("option",{value:N.Y6.Filter,children:"Filter"})]}),(0,n.jsx)("select",{name:"sort",title:"Sets the left panel sort order",onChange:e=>{let t=e.target.value;a.az.trackDefinedEvent("figmascope.sort_order_change",{order:function(e){switch(e){case N.hX.Position:return"position";case N.hX.Name:return"name";case N.hX.Memory:return"memory";case N.hX.NodeId:return"node_id"}}(t)}),x(t)},defaultValue:f,children:g.map(e=>(0,n.jsxs)("option",{value:e,children:["Sort by ",e]},e))}),c&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("input",{name:"follow-selection",type:"checkbox",checked:h,onChange:e=>p(e.target.checked)}),(0,n.jsx)("label",{htmlFor:"follow-selection",children:"Follow"})]}),(0,n.jsx)(eB,{label:"Select Previous",onClick:()=>{r(),a.az.trackDefinedEvent("figmascope.select_prev_next",{direction:"prev",source:"button"})},disabled:!t,svg:eL.A}),(0,n.jsx)(eB,{label:"Select Next",onClick:()=>{o(),a.az.trackDefinedEvent("figmascope.select_prev_next",{direction:"next",source:"button"})},disabled:!i,svg:eR.A})]})}var eM=r(153787),eH=r(625912),eV=r(637027),eW=r(266717),eG=r(380980),eJ=r(458609),eK=r(619883),eq=r(821527);function eZ({selectedObject:e,diffObject:t,onClose:r}){let s=(0,l.md)(v),[i,a]=(0,l.fp)(h.Oz);return(0,n.jsxs)(ez,{children:[e?i&&t?(0,n.jsx)(e1,{selectedObject:e,diffObject:t,diffState:i,setDiffState:a}):(0,n.jsx)(e0,{object:e}):t?(0,n.jsx)(e0,{object:t}):(0,n.jsx)(_.M,{}),s&&(0,n.jsx)(e3,{}),(0,n.jsx)(eB,{label:"Help",href:eW.e,svg:eG.A}),r&&(0,n.jsx)(eB,{label:"Close FigmaScope",onClick:r,svg:eq.A})]})}let eQ=$.s.flex1.ml10.my4.$;function e0({object:e}){return(0,n.jsx)("div",{className:eQ,children:(0,n.jsx)("span",{className:$.s.fontSemiBold.$,children:e.displayProperties.longName})})}function e1({selectedObject:e,diffObject:t,diffState:r,setDiffState:s}){let i=(0,l.Xr)(S.AJ);return(0,n.jsxs)("div",{className:$.s.flex1.ml10.my4.$,children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:$.s.colorTextSecondary.$,children:"Diffing "}),(0,n.jsx)("span",{className:$.s.fontSemiBold.$,children:e.displayProperties.longName}),(0,n.jsx)("span",{className:$.s.colorTextSecondary.$,children:" against "}),(0,n.jsx)("span",{className:$.s.fontSemiBold.$,children:t.displayProperties.longName})]}),r&&(0,n.jsx)("div",{className:$.s.colorTextSecondary.mt8.$,children:(0,n.jsxs)(_.Y,{spacing:8,width:"hug-contents",height:"hug-contents",verticalAlignItems:"start",children:[(0,n.jsxs)("span",{children:["Snapshot of"," ",(0,n.jsx)(eV.CY,{onClick:()=>i(r.object.id),className:$.s.colorTextFigjam.fontSemiBold.$,trusted:!0,children:r.object.displayProperties.name}),r.type===h.Lp.Tree&&" and full subtree"," was taken at"," ",r.time.toLocaleTimeString("en-US")]}),(0,n.jsx)(eV.CY,{onClick:()=>s({type:"refresh"}),className:$.s.colorTextDesign.$,trusted:!0,children:"Refresh"}),(0,n.jsx)(eV.CY,{onClick:()=>s({type:"clear"}),className:$.s.colorTextDanger.$,trusted:!0,children:"Finish"})]})})]})}function e3(){let[e,t]=(0,l.fp)(C),r=e.status===d.r.LOADING;return s.useEffect(()=>{t()},[t]),(0,n.jsx)(eB,{label:r?"Fetching scene graph validation failures":"Refetch scenegraph validation failures",onClick:t,svg:r?eJ.A:eK.A})}var e2=r(984674);function e4({children:e}){return(0,n.jsx)("div",{className:$.s.hFull.$,children:(0,n.jsxs)(_.Y,{direction:"vertical",width:"fill-parent",height:"fill-parent",padding:0,spacing:0,children:[(0,n.jsx)(e5,{}),e]})})}function e5(){let{name:e,metadata:t}=(0,l.md)(p.Cc);return(0,n.jsxs)(_.Y,{direction:"horizontal",width:"fill-parent",height:32,padding:8,spacing:32,backgroundColor:"toolbar",children:[e&&(0,n.jsx)(e2.E,{fontWeight:"bold",color:"toolbar",children:e}),t&&Object.entries(t).map(([e,t])=>t&&(0,n.jsxs)("span",{children:[(0,n.jsxs)(e2.E,{color:"toolbar-secondary",children:[e,": "]}),(0,n.jsx)(e2.E,{color:"toolbar",fontFamily:"monospace",fontWeight:"bold",children:t})]},e))]})}var e8=r(440046);let e6=s.memo(function({embedded:e=!1,emptyStateContent:t,onClose:r,appSelection:s,setAppSelection:i}){let a=(0,l.md)(p.lu);switch(a.status){case d.r.INIT:return t??(0,n.jsx)(I.zG,{});case d.r.LOADING:return(0,n.jsx)(I.zG,{});case d.r.FAILURE:return(0,n.jsx)(I.rf,{error:a.error});case d.r.SUCCESS:}if(0===a.value.primaryResource.rootObjects.length)return(0,n.jsx)(I.rf,{error:"No root objects found. This is likely a bug - please report in #figmascope."});let o=(0,n.jsx)(e9,{appSelection:s,setAppSelection:i,onClose:r});return e?o:(0,n.jsx)(e4,{children:o})});function e9({onClose:e,appSelection:t,setAppSelection:r}){let f=s.useRef(null),x=s.useRef(null),{windowInnerWidth:g}=(0,o.l)(),[m,j]=(0,l.fp)(e7),[b,y]=(0,l.fp)(te),[v,w]=(0,i.i)({onDrag(e){let t=e.clientX/g;j(`${(100*t).toFixed(2)}%`)}}),[N,I]=(0,i.i)({onDrag(e){let t=x.current;if(!t)return;let r=(e.clientX-t.getBoundingClientRect().left)/t.clientWidth;y(`${(100*r).toFixed(2)}%`)}}),k=(0,l.Xr)(S.jI),E=(0,l.Xr)(S.JN),D=s.useCallback(e=>{let t=f.current;document.activeElement!==t&&(e.keyCode===c.Uz.FORWARD_SLASH&&t?(t.focus(),e.preventDefault()):e.keyCode===c.Uz.BRACKET_LEFT?(a.az.trackDefinedEvent("figmascope.select_prev_next",{direction:"prev",source:"keyboard"}),k()):e.keyCode===c.Uz.BRACKET_RIGHT&&(a.az.trackDefinedEvent("figmascope.select_prev_next",{direction:"next",source:"keyboard"}),E()))},[k,E]),T=(0,l.md)(p.Cc);window.figmaScope=T,window.figmaScopeScene=T,function(e){let[t,r]=(0,l.fp)(C);t.status===d.r.SUCCESS&&e?.setSceneGraphValidationInfo?.(t.value),(0,s.useEffect)(()=>{r()},[r])}(T);let A=(0,l.md)(S.AJ),F=(0,l.md)(S.gg),P=(0,l.md)(h.tH);return(0,n.jsx)(S.q,{appSelection:t,setAppSelection:r,children:(0,n.jsxs)("div",{className:e8.zr,style:u.sx.if(v||N,{cursor:"ew-resize"}).$,onKeyDown:D,children:[(0,n.jsxs)("div",{className:e8.Pd,style:{width:m},children:[(0,n.jsx)(eY,{searchRef:f}),(0,n.jsxs)(eM.o,{className:e8._H,children:[(0,n.jsx)("div",{...w({style:{position:"absolute",top:0,bottom:0,right:"-3px",width:"5px",gridArea:"center",cursor:"ew-resize",zIndex:9}})}),(0,n.jsx)(ey,{appSelection:t})]})]}),(0,n.jsxs)("div",{className:e8.io,children:[(0,n.jsx)(eZ,{selectedObject:F,diffObject:P,onClose:e}),(F||P)&&(0,n.jsxs)("div",{className:e8._t,ref:x,children:[(0,n.jsxs)(eM.o,{className:e8.S3,style:{width:b},children:[(0,n.jsx)("div",{...I({style:{position:"absolute",top:0,bottom:0,right:"-3px",width:"5px",gridArea:"center",cursor:"ew-resize",zIndex:9}})}),(0,n.jsx)(eH.P,{panel:"middle",items:F?.rawProperties,diffItems:P?.rawProperties,extraItems:void 0},A)]}),(0,n.jsx)(eM.o,{className:e8.xK,children:(0,n.jsx)(eH.P,{panel:"right",items:F?.computedProperties,diffItems:P?.computedProperties,extraItems:T.getAdditionalProperties?.(A)},A)})]})]})]})})}let e7=(0,N.Sv)("leftPanelWidth","35%"),te=(0,N.Sv)("rightPanelWidth","50%")}}]);

//# debugId=2a6202c4-14f4-5772-a347-557edc62694a

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/2e6601c3896aaed56bee8d4c888058c511584117/9831-ab16a8e4d981963f.min.js.map